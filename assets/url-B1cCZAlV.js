var ie=t=>{throw TypeError(t)};var Kt=(t,e,o)=>e.has(t)||ie("Cannot "+o);var M=(t,e,o)=>(Kt(t,e,"read from private field"),o?o.call(t):e.get(t)),St=(t,e,o)=>e.has(t)?ie("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,o),Rt=(t,e,o,n)=>(Kt(t,e,"write to private field"),n?n.call(t,o):e.set(t,o),o),It=(t,e,o)=>(Kt(t,e,"access private method"),o);import{r as d,l as J,k as Y,m as V,a3 as Je,N as to,D as Jt,a4 as eo,S as te,j as r,s as I,n as $,p as q,a5 as le,q as W,g as F,B as Ft,o as u,v as G,t as vt,F as ut,A as ce,i as ke,U as de,Y as oo,a6 as ro,a7 as no,a8 as so,T as j,a9 as Dt,aa as pe,ab as $t,ac as ue,ad as he,a as m,h as ee,e as tt,P as $e,M as ao,X as io}from"./Toast-CaubaWG6.js";import{j as lo,w as co,x as po,y as uo,z as ho,C as ge,D as go,E as Le,G as Mt,H as xo,J as fo,S as Lt,n as Pe,B as ot,T as vo,h as bt,g as rt,F as Me,i as xe}from"./ScrollArea-zAV9zyXX.js";import{e as Ee,C as oe,a as mo,F as Ae,S as ft,T as bo,f as yo}from"./post-BgksSCnm.js";import{g as Co,a as wo,b as jo,l as Nt,I as Pt,M as Gt,T as Tt,C as re,D as So}from"./DarkModeRounded-DhOzHgDY.js";import{a as yt,u as Ro}from"./session-Db8uXD_G.js";const Fe=t=>{const e=d.useRef({});return d.useEffect(()=>{e.current=t}),e.current};function Io(t){return J("MuiCollapse",t)}Y("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const ko=t=>{const{orientation:e,classes:o}=t,n={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return q(n,Io,o)},$o=I("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[o.orientation],o.state==="entered"&&e.entered,o.state==="exited"&&!o.in&&o.collapsedSize==="0px"&&e.hidden]}})(W(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Lo=I("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Po=I("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Ht=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiCollapse"}),{addEndListener:s,children:a,className:i,collapsedSize:l="0px",component:c,easing:p,in:g,onEnter:h,onEntered:v,onEntering:x,onExit:f,onExited:S,onExiting:b,orientation:C="vertical",style:E,timeout:R=Je.standard,TransitionComponent:O=to,...L}=n,A={...n,orientation:C,collapsedSize:l},U=ko(A),D=Jt(),nt=eo(),T=d.useRef(null),H=d.useRef(),_=typeof l=="number"?`${l}px`:l,N=C==="horizontal",k=N?"width":"height",z=d.useRef(null),B=te(o,z),K=w=>X=>{if(w){const Z=z.current;X===void 0?w(Z):w(Z,X)}},et=()=>T.current?T.current[N?"clientWidth":"clientHeight"]:0,P=K((w,X)=>{T.current&&N&&(T.current.style.position="absolute"),w.style[k]=_,h&&h(w,X)}),Ct=K((w,X)=>{const Z=et();T.current&&N&&(T.current.style.position="");const{duration:xt,easing:wt}=le({style:E,timeout:R,easing:p},{mode:"enter"});if(R==="auto"){const Ot=D.transitions.getAutoHeightDuration(Z);w.style.transitionDuration=`${Ot}ms`,H.current=Ot}else w.style.transitionDuration=typeof xt=="string"?xt:`${xt}ms`;w.style[k]=`${Z}px`,w.style.transitionTimingFunction=wt,x&&x(w,X)}),ct=K((w,X)=>{w.style[k]="auto",v&&v(w,X)}),dt=K(w=>{w.style[k]=`${et()}px`,f&&f(w)}),st=K(S),Et=K(w=>{const X=et(),{duration:Z,easing:xt}=le({style:E,timeout:R,easing:p},{mode:"exit"});if(R==="auto"){const wt=D.transitions.getAutoHeightDuration(X);w.style.transitionDuration=`${wt}ms`,H.current=wt}else w.style.transitionDuration=typeof Z=="string"?Z:`${Z}ms`;w.style[k]=_,w.style.transitionTimingFunction=xt,b&&b(w)}),_t=w=>{R==="auto"&&nt.start(H.current||0,w),s&&s(z.current,w)};return r.jsx(O,{in:g,onEnter:P,onEntered:ct,onEntering:Ct,onExit:dt,onExited:st,onExiting:Et,addEndListener:_t,nodeRef:z,timeout:R==="auto"?null:R,...L,children:(w,{ownerState:X,...Z})=>r.jsx($o,{as:c,className:$(U.root,i,{entered:U.entered,exited:!g&&_==="0px"&&U.hidden}[w]),style:{[N?"minWidth":"minHeight"]:_,...E},ref:B,ownerState:{...A,state:w},...Z,children:r.jsx(Lo,{ownerState:{...A,state:w},className:U.wrapper,ref:T,children:r.jsx(Po,{ownerState:{...A,state:w},className:U.wrapperInner,children:a})})})})});Ht&&(Ht.muiSupportAuto=!0);const Mo=F(r.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Eo(t){return J("MuiChip",t)}const y=Y("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Ao=t=>{const{classes:e,disabled:o,size:n,color:s,iconColor:a,onDelete:i,clickable:l,variant:c}=t,p={root:["root",c,o&&"disabled",`size${u(n)}`,`color${u(s)}`,l&&"clickable",l&&`clickableColor${u(s)}`,i&&"deletable",i&&`deletableColor${u(s)}`,`${c}${u(s)}`],label:["label",`label${u(n)}`],avatar:["avatar",`avatar${u(n)}`,`avatarColor${u(s)}`],icon:["icon",`icon${u(n)}`,`iconColor${u(a)}`],deleteIcon:["deleteIcon",`deleteIcon${u(n)}`,`deleteIconColor${u(s)}`,`deleteIcon${u(c)}Color${u(s)}`]};return q(p,Eo,e)},Fo=I("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t,{color:n,iconColor:s,clickable:a,onDelete:i,size:l,variant:c}=o;return[{[`& .${y.avatar}`]:e.avatar},{[`& .${y.avatar}`]:e[`avatar${u(l)}`]},{[`& .${y.avatar}`]:e[`avatarColor${u(n)}`]},{[`& .${y.icon}`]:e.icon},{[`& .${y.icon}`]:e[`icon${u(l)}`]},{[`& .${y.icon}`]:e[`iconColor${u(s)}`]},{[`& .${y.deleteIcon}`]:e.deleteIcon},{[`& .${y.deleteIcon}`]:e[`deleteIcon${u(l)}`]},{[`& .${y.deleteIcon}`]:e[`deleteIconColor${u(n)}`]},{[`& .${y.deleteIcon}`]:e[`deleteIcon${u(c)}Color${u(n)}`]},e.root,e[`size${u(l)}`],e[`color${u(n)}`],a&&e.clickable,a&&n!=="default"&&e[`clickableColor${u(n)})`],i&&e.deletable,i&&n!=="default"&&e[`deletableColor${u(n)}`],e[c],e[`${c}${u(n)}`]]}})(W(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${y.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${y.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${y.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${y.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${y.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${y.icon}`]:{marginLeft:5,marginRight:-6},[`& .${y.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:G(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:G(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${y.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${y.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(vt(["contrastText"])).map(([o])=>({props:{color:o},style:{backgroundColor:(t.vars||t).palette[o].main,color:(t.vars||t).palette[o].contrastText,[`& .${y.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[o].contrastTextChannel} / 0.7)`:G(t.palette[o].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[o].contrastText}}}})),{props:o=>o.iconColor===o.color,style:{[`& .${y.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:o=>o.iconColor===o.color&&o.color!=="default",style:{[`& .${y.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${y.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:G(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(vt(["dark"])).map(([o])=>({props:{color:o,onDelete:!0},style:{[`&.${y.focusVisible}`]:{background:(t.vars||t).palette[o].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:G(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${y.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:G(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(vt(["dark"])).map(([o])=>({props:{color:o,clickable:!0},style:{[`&:hover, &.${y.focusVisible}`]:{backgroundColor:(t.vars||t).palette[o].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${y.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${y.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${y.avatar}`]:{marginLeft:4},[`& .${y.avatarSmall}`]:{marginLeft:2},[`& .${y.icon}`]:{marginLeft:4},[`& .${y.iconSmall}`]:{marginLeft:2},[`& .${y.deleteIcon}`]:{marginRight:5},[`& .${y.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(vt()).map(([o])=>({props:{variant:"outlined",color:o},style:{color:(t.vars||t).palette[o].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[o].mainChannel} / 0.7)`:G(t.palette[o].main,.7)}`,[`&.${y.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[o].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:G(t.palette[o].main,t.palette.action.hoverOpacity)},[`&.${y.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[o].mainChannel} / ${t.vars.palette.action.focusOpacity})`:G(t.palette[o].main,t.palette.action.focusOpacity)},[`& .${y.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[o].mainChannel} / 0.7)`:G(t.palette[o].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[o].main}}}}))]}})),To=I("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:o}=t,{size:n}=o;return[e.label,e[`label${u(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function fe(t){return t.key==="Backspace"||t.key==="Delete"}const Ut=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiChip"}),{avatar:s,className:a,clickable:i,color:l="default",component:c,deleteIcon:p,disabled:g=!1,icon:h,label:v,onClick:x,onDelete:f,onKeyDown:S,onKeyUp:b,size:C="medium",variant:E="filled",tabIndex:R,skipFocusWhenDisabled:O=!1,...L}=n,A=d.useRef(null),U=te(A,o),D=P=>{P.stopPropagation(),f&&f(P)},nt=P=>{P.currentTarget===P.target&&fe(P)&&P.preventDefault(),S&&S(P)},T=P=>{P.currentTarget===P.target&&f&&fe(P)&&f(P),b&&b(P)},H=i!==!1&&x?!0:i,_=H||f?Ft:c||"div",N={...n,component:_,disabled:g,size:C,color:l,iconColor:d.isValidElement(h)&&h.props.color||l,onDelete:!!f,clickable:H,variant:E},k=Ao(N),z=_===Ft?{component:c||"div",focusVisibleClassName:k.focusVisible,...f&&{disableRipple:!0}}:{};let B=null;f&&(B=p&&d.isValidElement(p)?d.cloneElement(p,{className:$(p.props.className,k.deleteIcon),onClick:D}):r.jsx(Mo,{className:$(k.deleteIcon),onClick:D}));let K=null;s&&d.isValidElement(s)&&(K=d.cloneElement(s,{className:$(k.avatar,s.props.className)}));let et=null;return h&&d.isValidElement(h)&&(et=d.cloneElement(h,{className:$(k.icon,h.props.className)})),r.jsxs(Fo,{as:_,className:$(k.root,a),disabled:H&&g?!0:void 0,onClick:x,onKeyDown:nt,onKeyUp:T,ref:U,tabIndex:O&&g?-1:R,ownerState:N,...z,...L,children:[K||et,r.jsx(To,{className:$(k.label),ownerState:N,children:v}),B]})}),Oo=F(r.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Do(t){return J("MuiAvatar",t)}Y("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const No=t=>{const{classes:e,variant:o,colorDefault:n}=t;return q({root:["root",o,n&&"colorDefault"],img:["img"],fallback:["fallback"]},Do,e)},zo=I("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[o.variant],o.colorDefault&&e.colorDefault]}})(W(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),Bo=I("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Wo=I(Oo,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function Uo({crossOrigin:t,referrerPolicy:e,src:o,srcSet:n}){const[s,a]=d.useState(!1);return d.useEffect(()=>{if(!o&&!n)return;a(!1);let i=!0;const l=new Image;return l.onload=()=>{i&&a("loaded")},l.onerror=()=>{i&&a("error")},l.crossOrigin=t,l.referrerPolicy=e,l.src=o,n&&(l.srcset=n),()=>{i=!1}},[t,e,o,n]),s}const Te=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiAvatar"}),{alt:s,children:a,className:i,component:l="div",slots:c={},slotProps:p={},imgProps:g,sizes:h,src:v,srcSet:x,variant:f="circular",...S}=n;let b=null;const C={...n,component:l,variant:f},E=Uo({...g,...typeof p.img=="function"?p.img(C):p.img,src:v,srcSet:x}),R=v||x,O=R&&E!=="error";C.colorDefault=!O,delete C.ownerState;const L=No(C),[A,U]=ut("img",{className:L.img,elementType:Bo,externalForwardedProps:{slots:c,slotProps:{img:{...g,...p.img}}},additionalProps:{alt:s,src:v,srcSet:x,sizes:h},ownerState:C});return O?b=r.jsx(A,{...U}):a||a===0?b=a:R&&s?b=s[0]:b=r.jsx(Wo,{ownerState:C,className:L.fallback}),r.jsx(zo,{as:l,className:$(L.root,i),ref:o,...S,ownerState:C,children:b})});function Vo(t){const{badgeContent:e,invisible:o=!1,max:n=99,showZero:s=!1}=t,a=Fe({badgeContent:e,max:n});let i=o;o===!1&&e===0&&!s&&(i=!0);const{badgeContent:l,max:c=n}=i?a:t,p=l&&Number(l)>c?`${c}+`:l;return{badgeContent:l,invisible:i,max:c,displayValue:p}}function qo(t){return J("MuiBadge",t)}const pt=Y("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Qt=10,Yt=4,Ho=t=>{const{color:e,anchorOrigin:o,invisible:n,overlap:s,variant:a,classes:i={}}=t,l={root:["root"],badge:["badge",a,n&&"invisible",`anchorOrigin${u(o.vertical)}${u(o.horizontal)}`,`anchorOrigin${u(o.vertical)}${u(o.horizontal)}${u(s)}`,`overlap${u(s)}`,e!=="default"&&`color${u(e)}`]};return q(l,qo,i)},_o=I("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Ko=I("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.badge,e[o.variant],e[`anchorOrigin${u(o.anchorOrigin.vertical)}${u(o.anchorOrigin.horizontal)}${u(o.overlap)}`],o.color!=="default"&&e[`color${u(o.color)}`],o.invisible&&e.invisible]}})(W(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Qt*2,lineHeight:1,padding:"0 6px",height:Qt*2,borderRadius:Qt,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(vt(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Yt,height:Yt*2,minWidth:Yt*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${pt.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${pt.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${pt.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${pt.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${pt.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${pt.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${pt.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${pt.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function ve(t){return{vertical:(t==null?void 0:t.vertical)??"top",horizontal:(t==null?void 0:t.horizontal)??"right"}}const Oe=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiBadge"}),{anchorOrigin:s,className:a,classes:i,component:l,components:c={},componentsProps:p={},children:g,overlap:h="rectangular",color:v="default",invisible:x=!1,max:f=99,badgeContent:S,slots:b,slotProps:C,showZero:E=!1,variant:R="standard",...O}=n,{badgeContent:L,invisible:A,max:U,displayValue:D}=Vo({max:f,invisible:x,badgeContent:S,showZero:E}),nt=Fe({anchorOrigin:ve(s),color:v,overlap:h,variant:R,badgeContent:S}),T=A||L==null&&R!=="dot",{color:H=v,overlap:_=h,anchorOrigin:N,variant:k=R}=T?nt:n,z=ve(N),B=k!=="dot"?D:void 0,K={...n,badgeContent:L,invisible:T,max:U,displayValue:B,showZero:E,anchorOrigin:z,color:H,overlap:_,variant:k},et=Ho(K),P=(b==null?void 0:b.root)??c.Root??_o,Ct=(b==null?void 0:b.badge)??c.Badge??Ko,ct=(C==null?void 0:C.root)??p.root,dt=(C==null?void 0:C.badge)??p.badge,st=ce({elementType:P,externalSlotProps:ct,externalForwardedProps:O,additionalProps:{ref:o,as:l},ownerState:K,className:$(ct==null?void 0:ct.className,et.root,a)}),Et=ce({elementType:Ct,externalSlotProps:dt,ownerState:K,className:$(et.badge,dt==null?void 0:dt.className)});return r.jsxs(P,{...st,children:[g,r.jsx(Ct,{...Et,children:B})]})});function Go(t){return J("MuiBottomNavigation",t)}Y("MuiBottomNavigation",["root"]);const Qo=t=>{const{classes:e}=t;return q({root:["root"]},Go,e)},Yo=I("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:(t,e)=>e.root})(W(({theme:t})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:(t.vars||t).palette.background.paper}))),Xo=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiBottomNavigation"}),{children:s,className:a,component:i="div",onChange:l,showLabels:c=!1,value:p,...g}=n,h={...n,component:i,showLabels:c},v=Qo(h);return r.jsx(Yo,{as:i,className:$(v.root,a),ref:o,ownerState:h,...g,children:d.Children.map(s,(x,f)=>{if(!d.isValidElement(x))return null;const S=x.props.value===void 0?f:x.props.value;return d.cloneElement(x,{selected:S===p,showLabel:x.props.showLabel!==void 0?x.props.showLabel:c,value:S,onChange:l})})})});function Zo(t){return J("MuiBottomNavigationAction",t)}const De=Y("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),Jo=t=>{const{classes:e,showLabel:o,selected:n}=t;return q({root:["root",!o&&!n&&"iconOnly",n&&"selected"],label:["label",!o&&!n&&"iconOnly",n&&"selected"]},Zo,e)},tr=I(Ft,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,!o.showLabel&&!o.selected&&e.iconOnly]}})(W(({theme:t})=>({transition:t.transitions.create(["color","padding-top"],{duration:t.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(t.vars||t).palette.text.secondary,flexDirection:"column",flex:"1",[`&.${De.selected}`]:{color:(t.vars||t).palette.primary.main},variants:[{props:({showLabel:e,selected:o})=>!e&&!o,style:{paddingTop:14}},{props:({showLabel:e,selected:o,label:n})=>!e&&!o&&!n,style:{paddingTop:0}}]}))),er=I("span",{name:"MuiBottomNavigationAction",slot:"Label",overridesResolver:(t,e)=>e.label})(W(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s",[`&.${De.selected}`]:{fontSize:t.typography.pxToRem(14)},variants:[{props:({showLabel:e,selected:o})=>!e&&!o,style:{opacity:0,transitionDelay:"0s"}}]}))),mt=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiBottomNavigationAction"}),{className:s,icon:a,label:i,onChange:l,onClick:c,selected:p,showLabel:g,value:h,...v}=n,x=n,f=Jo(x),S=b=>{l&&l(b,h),c&&c(b)};return r.jsxs(tr,{ref:o,className:$(f.root,s),focusRipple:!0,onClick:S,ownerState:x,...v,children:[a,r.jsx(er,{className:f.label,ownerState:x,children:i})]})});function or(t){return J("MuiDialog",t)}const Xt=Y("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),rr=d.createContext({}),nr=I(no,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),sr=t=>{const{classes:e,scroll:o,maxWidth:n,fullWidth:s,fullScreen:a}=t,i={root:["root"],container:["container",`scroll${u(o)}`],paper:["paper",`paperScroll${u(o)}`,`paperWidth${u(String(n))}`,s&&"paperFullWidth",a&&"paperFullScreen"]};return q(i,or,e)},ar=I(ro,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),ir=I("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.container,e[`scroll${u(o.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),lr=I(ke,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.paper,e[`scrollPaper${u(o.scroll)}`],e[`paperWidth${u(String(o.maxWidth))}`],o.fullWidth&&e.paperFullWidth,o.fullScreen&&e.paperFullScreen]}})(W(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Xt.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Xt.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Xt.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),cr=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiDialog"}),s=Jt(),a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":l,"aria-modal":c=!0,BackdropComponent:p,BackdropProps:g,children:h,className:v,disableEscapeKeyDown:x=!1,fullScreen:f=!1,fullWidth:S=!1,maxWidth:b="sm",onBackdropClick:C,onClick:E,onClose:R,open:O,PaperComponent:L=ke,PaperProps:A={},scroll:U="paper",slots:D={},slotProps:nt={},TransitionComponent:T=de,transitionDuration:H=a,TransitionProps:_,...N}=n,k={...n,disableEscapeKeyDown:x,fullScreen:f,fullWidth:S,maxWidth:b,scroll:U},z=sr(k),B=d.useRef(),K=jt=>{B.current=jt.target===jt.currentTarget},et=jt=>{E&&E(jt),B.current&&(B.current=null,C&&C(jt),R&&R(jt,"backdropClick"))},P=oo(l),Ct=d.useMemo(()=>({titleId:P}),[P]),ct={transition:T,...D},dt={transition:_,paper:A,backdrop:g,...nt},st={slots:ct,slotProps:dt},[Et,_t]=ut("root",{elementType:ar,shouldForwardComponentProp:!0,externalForwardedProps:st,ownerState:k,className:$(z.root,v),ref:o}),[w,X]=ut("backdrop",{elementType:nr,shouldForwardComponentProp:!0,externalForwardedProps:st,ownerState:k}),[Z,xt]=ut("paper",{elementType:lr,shouldForwardComponentProp:!0,externalForwardedProps:st,ownerState:k,className:$(z.paper,A.className)}),[wt,Ot]=ut("container",{elementType:ir,externalForwardedProps:st,ownerState:k,className:$(z.container)}),[Xe,Ze]=ut("transition",{elementType:de,externalForwardedProps:st,ownerState:k,additionalProps:{appear:!0,in:O,timeout:H,role:"presentation"}});return r.jsx(Et,{closeAfterTransition:!0,slots:{backdrop:w},slotProps:{backdrop:{transitionDuration:H,as:p,...X}},disableEscapeKeyDown:x,onClose:R,open:O,onClick:et,..._t,...N,children:r.jsx(Xe,{...Ze,children:r.jsx(wt,{onMouseDown:K,...Ot,children:r.jsx(Z,{as:L,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":P,"aria-modal":c,...xt,children:r.jsx(rr.Provider,{value:Ct,children:h})})})})})}),dr=t=>{const{absolute:e,children:o,classes:n,flexItem:s,light:a,orientation:i,textAlign:l,variant:c}=t;return q({root:["root",e&&"absolute",c,a&&"light",i==="vertical"&&"vertical",s&&"flexItem",o&&"withChildren",o&&i==="vertical"&&"withChildrenVertical",l==="right"&&i!=="vertical"&&"textAlignRight",l==="left"&&i!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",i==="vertical"&&"wrapperVertical"]},Co,n)},pr=I("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.absolute&&e.absolute,e[o.variant],o.light&&e.light,o.orientation==="vertical"&&e.vertical,o.flexItem&&e.flexItem,o.children&&e.withChildren,o.children&&o.orientation==="vertical"&&e.withChildrenVertical,o.textAlign==="right"&&o.orientation!=="vertical"&&e.textAlignRight,o.textAlign==="left"&&o.orientation!=="vertical"&&e.textAlignLeft]}})(W(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:G(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),ur=I("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.wrapper,o.orientation==="vertical"&&e.wrapperVertical]}})(W(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),it=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiDivider"}),{absolute:s=!1,children:a,className:i,orientation:l="horizontal",component:c=a||l==="vertical"?"div":"hr",flexItem:p=!1,light:g=!1,role:h=c!=="hr"?"separator":void 0,textAlign:v="center",variant:x="fullWidth",...f}=n,S={...n,absolute:s,component:c,flexItem:p,light:g,orientation:l,role:h,textAlign:v,variant:x},b=dr(S);return r.jsx(pr,{as:c,className:$(b.root,i),role:h,ref:o,ownerState:S,"aria-orientation":h==="separator"&&(c!=="hr"||l==="vertical")?l:void 0,...f,children:a?r.jsx(ur,{className:b.wrapper,ownerState:S,children:a}):null})});it&&(it.muiSkipListHighlight=!0);function hr(t){return J("MuiFab",t)}const me=Y("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),gr=t=>{const{color:e,variant:o,classes:n,size:s}=t,a={root:["root",o,`size${u(s)}`,e==="inherit"?"colorInherit":e]},i=q(a,hr,n);return{...n,...i}},xr=I(Ft,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>so(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[o.variant],e[`size${u(o.size)}`],o.color==="inherit"&&e.colorInherit,e[u(o.size)],e[o.color]]}})(W(({theme:t})=>{var e,o;return{...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(o=(e=t.palette).getContrastText)==null?void 0:o.call(e,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${me.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),W(({theme:t})=>({variants:[...Object.entries(t.palette).filter(vt(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}}}}))]})),W(({theme:t})=>({[`&.${me.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),fr=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiFab"}),{children:s,className:a,color:i="default",component:l="button",disabled:c=!1,disableFocusRipple:p=!1,focusVisibleClassName:g,size:h="large",variant:v="circular",...x}=n,f={...n,color:i,component:l,disabled:c,disableFocusRipple:p,size:h,variant:v},S=gr(f);return r.jsx(xr,{className:$(S.root,a),component:l,disabled:c,focusRipple:!p,focusVisibleClassName:$(S.focusVisible,g),ownerState:f,ref:o,...x,classes:S,children:s})});function vr(t){return J("MuiInputAdornment",t)}const be=Y("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var ye;const mr=(t,e)=>{const{ownerState:o}=t;return[e.root,e[`position${u(o.position)}`],o.disablePointerEvents===!0&&e.disablePointerEvents,e[o.variant]]},br=t=>{const{classes:e,disablePointerEvents:o,hiddenLabel:n,position:s,size:a,variant:i}=t,l={root:["root",o&&"disablePointerEvents",s&&`position${u(s)}`,i,n&&"hiddenLabel",a&&`size${u(a)}`]};return q(l,vr,e)},yr=I("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:mr})(W(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${be.positionStart}&:not(.${be.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),Cr=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiInputAdornment"}),{children:s,className:a,component:i="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:p,variant:g,...h}=n,v=lo()||{};let x=g;g&&v.variant,v&&!x&&(x=v.variant);const f={...n,hiddenLabel:v.hiddenLabel,size:v.size,disablePointerEvents:l,position:p,variant:x},S=br(f);return r.jsx(co.Provider,{value:null,children:r.jsx(yr,{as:i,ownerState:f,className:$(S.root,a),ref:o,...h,children:typeof s=="string"&&!c?r.jsx(j,{color:"textSecondary",children:s}):r.jsxs(d.Fragment,{children:[p==="start"?ye||(ye=r.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,s]})})})});function wr(t){return J("MuiLink",t)}const jr=Y("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Sr=({theme:t,ownerState:e})=>{const o=e.color,n=Dt(t,`palette.${o}.main`,!1)||Dt(t,`palette.${o}`,!1)||e.color,s=Dt(t,`palette.${o}.mainChannel`)||Dt(t,`palette.${o}Channel`);return"vars"in t&&s?`rgba(${s} / 0.4)`:G(n,.4)},Ce={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Rr=t=>{const{classes:e,component:o,focusVisible:n,underline:s}=t,a={root:["root",`underline${u(s)}`,o==="button"&&"button",n&&"focusVisible"]};return q(a,wr,e)},Ir=I(j,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[`underline${u(o.underline)}`],o.component==="button"&&e.button]}})(W(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:o})=>e==="always"&&o.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter(vt()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[e].mainChannel} / 0.4)`:G(t.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:G(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:G(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${jr.focusVisible}`]:{outline:"auto"}}}]}))),zt=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiLink"}),s=Jt(),{className:a,color:i="primary",component:l="a",onBlur:c,onFocus:p,TypographyClasses:g,underline:h="always",variant:v="inherit",sx:x,...f}=n,[S,b]=d.useState(!1),C=L=>{pe(L.target)||b(!1),c&&c(L)},E=L=>{pe(L.target)&&b(!0),p&&p(L)},R={...n,color:i,component:l,focusVisible:S,underline:h,variant:v},O=Rr(R);return r.jsx(Ir,{color:i,className:$(O.root,a),classes:g,component:l,onBlur:C,onFocus:E,ref:o,ownerState:R,variant:v,...f,sx:[...Ce[i]===void 0?[{color:i}]:[],...Array.isArray(x)?x:[x]],style:{...f.style,...h==="always"&&i!=="inherit"&&!Ce[i]&&{"--Link-underlineColor":Sr({theme:s,ownerState:R})}}})});function kr(t){return J("MuiListItem",t)}Y("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const $r=Y("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Lr(t){return J("MuiListItemSecondaryAction",t)}Y("MuiListItemSecondaryAction",["root","disableGutters"]);const Pr=t=>{const{disableGutters:e,classes:o}=t;return q({root:["root",e&&"disableGutters"]},Lr,o)},Mr=I("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),Ne=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiListItemSecondaryAction"}),{className:s,...a}=n,i=d.useContext($t),l={...n,disableGutters:i.disableGutters},c=Pr(l);return r.jsx(Mr,{className:$(c.root,s),ownerState:l,ref:o,...a})});Ne.muiName="ListItemSecondaryAction";const Er=(t,e)=>{const{ownerState:o}=t;return[e.root,o.dense&&e.dense,o.alignItems==="flex-start"&&e.alignItemsFlexStart,o.divider&&e.divider,!o.disableGutters&&e.gutters,!o.disablePadding&&e.padding,o.hasSecondaryAction&&e.secondaryAction]},Ar=t=>{const{alignItems:e,classes:o,dense:n,disableGutters:s,disablePadding:a,divider:i,hasSecondaryAction:l}=t;return q({root:["root",n&&"dense",!s&&"gutters",!a&&"padding",i&&"divider",e==="flex-start"&&"alignItemsFlexStart",l&&"secondaryAction"],container:["container"]},kr,o)},Fr=I("div",{name:"MuiListItem",slot:"Root",overridesResolver:Er})(W(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${$r.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),Tr=I("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Or=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiListItem"}),{alignItems:s="center",children:a,className:i,component:l,components:c={},componentsProps:p={},ContainerComponent:g="li",ContainerProps:{className:h,...v}={},dense:x=!1,disableGutters:f=!1,disablePadding:S=!1,divider:b=!1,secondaryAction:C,slotProps:E={},slots:R={},...O}=n,L=d.useContext($t),A=d.useMemo(()=>({dense:x||L.dense||!1,alignItems:s,disableGutters:f}),[s,L.dense,x,f]),U=d.useRef(null),D=d.Children.toArray(a),nt=D.length&&po(D[D.length-1],["ListItemSecondaryAction"]),T={...n,alignItems:s,dense:A.dense,disableGutters:f,disablePadding:S,divider:b,hasSecondaryAction:nt},H=Ar(T),_=te(U,o),N=R.root||c.Root||Fr,k=E.root||p.root||{},z={className:$(H.root,k.className,i),...O};let B=l||"li";return nt?(B=!z.component&&!l?"div":B,g==="li"&&(B==="li"?B="div":z.component==="li"&&(z.component="div")),r.jsx($t.Provider,{value:A,children:r.jsxs(Tr,{as:g,className:$(H.container,h),ref:_,ownerState:T,...v,children:[r.jsx(N,{...k,...!ue(N)&&{as:B,ownerState:{...T,...k.ownerState}},...z,children:D}),D.pop()]})})):r.jsx($t.Provider,{value:A,children:r.jsxs(N,{...k,as:B,ref:_,...!ue(N)&&{ownerState:{...T,...k.ownerState}},...z,children:[D,C&&r.jsx(Ne,{children:C})]})})}),Dr=t=>{const{alignItems:e,classes:o}=t;return q({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},wo,o)},Nr=I("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(W(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Vt=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiListItemIcon"}),{className:s,...a}=n,i=d.useContext($t),l={...n,alignItems:i.alignItems},c=Dr(l);return r.jsx(Nr,{className:$(c.root,s),ownerState:l,ref:o,...a})}),zr=t=>{const{classes:e,inset:o,primary:n,secondary:s,dense:a}=t;return q({root:["root",o&&"inset",a&&"dense",n&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},jo,e)},Br=I("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`& .${Nt.primary}`]:e.primary},{[`& .${Nt.secondary}`]:e.secondary},e.root,o.inset&&e.inset,o.primary&&o.secondary&&e.multiline,o.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${he.root}:where(& .${Nt.primary})`]:{display:"block"},[`.${he.root}:where(& .${Nt.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Wr=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiListItemText"}),{children:s,className:a,disableTypography:i=!1,inset:l=!1,primary:c,primaryTypographyProps:p,secondary:g,secondaryTypographyProps:h,slots:v={},slotProps:x={},...f}=n,{dense:S}=d.useContext($t);let b=c??s,C=g;const E={...n,disableTypography:i,inset:l,primary:!!b,secondary:!!C,dense:S},R=zr(E),O={slots:v,slotProps:{primary:p,secondary:h,...x}},[L,A]=ut("primary",{className:R.primary,elementType:j,externalForwardedProps:O,ownerState:E}),[U,D]=ut("secondary",{className:R.secondary,elementType:j,externalForwardedProps:O,ownerState:E});return b!=null&&b.type!==j&&!i&&(b=r.jsx(L,{variant:S?"body2":"body1",component:A!=null&&A.variant?void 0:"span",...A,children:b})),C!=null&&C.type!==j&&!i&&(C=r.jsx(U,{variant:"body2",color:"textSecondary",...D,children:C})),r.jsxs(Br,{className:$(R.root,a),ownerState:E,ref:o,...f,children:[b,C]})});function Ur(t){return J("MuiToolbar",t)}Y("MuiToolbar",["root","gutters","regular","dense"]);const Vr=t=>{const{classes:e,disableGutters:o,variant:n}=t;return q({root:["root",!o&&"gutters",n]},Ur,e)},qr=I("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,!o.disableGutters&&e.gutters,e[o.variant]]}})(W(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),ze=d.forwardRef(function(e,o){const n=V({props:e,name:"MuiToolbar"}),{className:s,component:a="div",disableGutters:i=!1,variant:l="regular",...c}=n,p={...n,component:a,disableGutters:i,variant:l},g=Vr(p);return r.jsx(qr,{as:a,className:$(g.root,s),ref:o,ownerState:p,...c})});var ht,gt,Q,at,lt,qt,Zt,Ie,Hr=(Ie=class extends uo{constructor(e,o){super();St(this,lt);St(this,ht);St(this,gt);St(this,Q);St(this,at);Rt(this,ht,e),this.setOptions(o),this.bindMethods(),It(this,lt,qt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const o=this.options;this.options=M(this,ht).defaultMutationOptions(e),ho(this.options,o)||M(this,ht).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,Q),observer:this}),o!=null&&o.mutationKey&&this.options.mutationKey&&ge(o.mutationKey)!==ge(this.options.mutationKey)?this.reset():((n=M(this,Q))==null?void 0:n.state.status)==="pending"&&M(this,Q).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=M(this,Q))==null||e.removeObserver(this)}onMutationUpdate(e){It(this,lt,qt).call(this),It(this,lt,Zt).call(this,e)}getCurrentResult(){return M(this,gt)}reset(){var e;(e=M(this,Q))==null||e.removeObserver(this),Rt(this,Q,void 0),It(this,lt,qt).call(this),It(this,lt,Zt).call(this)}mutate(e,o){var n;return Rt(this,at,o),(n=M(this,Q))==null||n.removeObserver(this),Rt(this,Q,M(this,ht).getMutationCache().build(M(this,ht),this.options)),M(this,Q).addObserver(this),M(this,Q).execute(e)}},ht=new WeakMap,gt=new WeakMap,Q=new WeakMap,at=new WeakMap,lt=new WeakSet,qt=function(){var o;const e=((o=M(this,Q))==null?void 0:o.state)??go();Rt(this,gt,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Zt=function(e){Le.batch(()=>{var o,n,s,a,i,l,c,p;if(M(this,at)&&this.hasListeners()){const g=M(this,gt).variables,h=M(this,gt).context;(e==null?void 0:e.type)==="success"?((n=(o=M(this,at)).onSuccess)==null||n.call(o,e.data,g,h),(a=(s=M(this,at)).onSettled)==null||a.call(s,e.data,null,g,h)):(e==null?void 0:e.type)==="error"&&((l=(i=M(this,at)).onError)==null||l.call(i,e.error,g,h),(p=(c=M(this,at)).onSettled)==null||p.call(c,void 0,e.error,g,h))}this.listeners.forEach(g=>{g(M(this,gt))})})},Ie);function Be(t,e){const o=Mt(),[n]=d.useState(()=>new Hr(o,t));d.useEffect(()=>{n.setOptions(t)},[n,t]);const s=d.useSyncExternalStore(d.useCallback(i=>n.subscribe(Le.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=d.useCallback((i,l)=>{n.mutate(i,l).catch(xo)},[n]);if(s.error&&fo(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}const Zn=()=>r.jsxs(m,{sx:{position:"absolute",inset:0,pointerEvents:"none"},children:[r.jsx(m,{sx:{bgcolor:"secondary.main",height:"35vh"}}),r.jsx(m,{sx:{height:"100px",backgroundColor:"secondary.main",maskImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='white' fill-rule='evenodd' d='M0,0H200V100H0Z M0,0C0,0 100,100 200,0L200,100L0,100Z'/%3E%3C/svg%3E")`,maskRepeat:"repeat-x",maskPosition:"center bottom",maskSize:"auto 100px"}})]}),_r=F(r.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4"}),"PersonRounded"),Kr=F([r.jsx("path",{d:"M10.67 13.02c-.22-.01-.44-.02-.67-.02-2.42 0-4.68.67-6.61 1.82-.88.52-1.39 1.5-1.39 2.53V19c0 .55.45 1 1 1h8.26c-.79-1.13-1.26-2.51-1.26-4 0-1.07.25-2.07.67-2.98"},"0"),r.jsx("circle",{cx:"10",cy:"8",r:"4"},"1"),r.jsx("path",{d:"M20.75 16c0-.22-.03-.42-.06-.63l.84-.73c.18-.16.22-.42.1-.63l-.59-1.02c-.12-.21-.37-.3-.59-.22l-1.06.36q-.48-.405-1.08-.63l-.22-1.09c-.05-.23-.25-.4-.49-.4h-1.18c-.24 0-.44.17-.49.4l-.22 1.09q-.6.225-1.08.63l-1.06-.36c-.23-.08-.47.02-.59.22l-.59 1.02c-.12.21-.08.47.1.63l.84.73c-.03.21-.06.41-.06.63s.03.42.06.63l-.84.73c-.18.16-.22.42-.1.63l.59 1.02c.12.21.37.3.59.22l1.06-.36q.48.405 1.08.63l.22 1.09c.05.23.25.4.49.4h1.18c.24 0 .44-.17.49-.4l.22-1.09q.6-.225 1.08-.63l1.06.36c.23.08.47-.02.59-.22l.59-1.02c.12-.21.08-.47-.1-.63l-.84-.73c.03-.21.06-.41.06-.63M17 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"2")],"ManageAccountsRounded"),Gr=F([r.jsx("path",{d:"M5 5h6c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h6c.55 0 1-.45 1-1s-.45-1-1-1H5z"},"0"),r.jsx("path",{d:"m20.65 11.65-2.79-2.79c-.32-.32-.86-.1-.86.35V11h-7c-.55 0-1 .45-1 1s.45 1 1 1h7v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.19.2-.51.01-.7"},"1")],"LogoutRounded"),we=F(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircleRounded"),We=F(r.jsx("path",{d:"M10.3 7.7c-.39.39-.39 1.01 0 1.4l1.9 1.9H3c-.55 0-1 .45-1 1s.45 1 1 1h9.2l-1.9 1.9c-.39.39-.39 1.01 0 1.4s1.01.39 1.4 0l3.59-3.59c.39-.39.39-1.02 0-1.41L11.7 7.7a.984.984 0 0 0-1.4 0M20 19h-7c-.55 0-1 .45-1 1s.45 1 1 1h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-7c-.55 0-1 .45-1 1s.45 1 1 1h7z"}),"LoginRounded"),Qr=t=>r.jsx(Lt,{variant:"circular",width:"2rem",height:"2rem",animation:"wave",...t}),Ue=({name:t,sx:e,...o})=>r.jsx(Te,{sx:{bgcolor:"primary.main",width:"2rem",height:"2rem",...e},...o,children:r.jsx(j,{sx:{translate:"0px 5%"},children:t.slice(0,1).toUpperCase()})}),Yr=({showProgress:t})=>r.jsxs(r.Fragment,{children:[r.jsx(Lt,{variant:"circular",sx:{position:"absolute",bottom:0,width:1,height:"auto",aspectRatio:1},animation:"wave"}),t&&r.jsx(m,{sx:{position:"absolute",bottom:0,width:1,height:"auto",aspectRatio:1,display:"grid",placeItems:"center"},children:r.jsx(ee,{})})]}),Jn=({size:t=6,borderSize:e=.8})=>{const o=new URLSearchParams(window.location.search),{data:n,isFetching:s}=Pe(o.get("user"));return r.jsxs(m,{sx:{display:"flex",justifyContent:"center",position:"relative",width:`${t}rem`,alignSelf:"flex-end",m:2},children:[r.jsx(m,{sx:{position:"absolute",bottom:0,width:1,height:"auto",aspectRatio:1},children:r.jsx(m,{sx:{borderRadius:"50%",position:"absolute",inset:`${-e}rem`,bgcolor:"background.paper",backgroundImage:"var(--Paper-overlay)"}})}),!s&&n?r.jsx(Te,{sx:{position:"absolute",bottom:0,width:1,height:"auto",aspectRatio:1,bgcolor:"primary.main",boxShadow:3},children:r.jsx(j,{variant:"h3",component:"span",sx:{translate:"0px 5%",color:"white"},children:n.name.charAt(0).toUpperCase()})}):r.jsx(Yr,{showProgress:s})]})},Ve=({onItemClick:t,userName:e})=>{const[o,n]=d.useState(!1),{logout:s}=Ro(),a=()=>{n(!0),s(),t()};return r.jsxs(ao,{dense:!0,children:[r.jsxs(Gt,{href:`${tt.forum_users}?user=${e}`,component:"a",children:[r.jsx(Vt,{children:r.jsx(_r,{})}),"個人檔案"]}),r.jsxs(Gt,{onClick:t,children:[r.jsx(Vt,{children:r.jsx(Kr,{})}),"設定"]}),r.jsx(it,{}),r.jsxs(Gt,{onClick:a,disabled:o,children:[r.jsx(Vt,{children:r.jsx(Gr,{})}),o?"登出中...":"登出"]})]})},Xr=()=>{const{user:t,loading:e,authenticated:o}=yt(),[n,s]=d.useState(null),a=l=>s(n?null:l.currentTarget),i=()=>s(null);return e?r.jsx(ot,{variant:"outlined",color:"inherit",startIcon:r.jsx(we,{}),disabled:!0,loading:e,children:"Loading"}):r.jsxs(r.Fragment,{children:[o?r.jsx(ot,{variant:"outlined",color:"inherit",startIcon:r.jsx(we,{}),onClick:a,children:t.name}):r.jsx(ot,{variant:"outlined",color:"inherit",startIcon:r.jsx(We,{}),href:tt.forum_login,children:"登入"}),o&&r.jsx($e,{anchorEl:n,anchorOrigin:{horizontal:"center",vertical:"bottom"},transformOrigin:{horizontal:"center",vertical:"top"},open:!!n,onClose:i,children:r.jsx(Ve,{onItemClick:i,userName:t.name})})]})},Zr=I("div")(({theme:t})=>({height:30,width:6,backgroundColor:t.palette.divider,borderRadius:3,position:"absolute",left:8,top:"calc(50% - 15px)",...t.applyStyles("dark",{backgroundColor:t.palette.divider})})),Jr=()=>{const{user:t,loading:e,authenticated:o}=yt(),[n,s]=d.useState(!1),a=()=>s(!0),i=()=>s(!1);return e?r.jsx(mt,{showLabel:!0,label:"帳戶",icon:r.jsx(ee,{size:"2rem"})}):r.jsxs(r.Fragment,{children:[o?r.jsx(mt,{showLabel:!0,label:t.name,onClick:a,icon:r.jsx(Ue,{name:t.name,sx:{color:"primary.contrastText"}})}):r.jsx(mt,{showLabel:!0,label:"登入",icon:r.jsx(We,{}),href:tt.forum_login}),o&&r.jsxs(Ee,{anchor:"right",open:n,onClose:i,onOpen:a,slotProps:{paper:{sx:{width:240}}},children:[r.jsx(Zr,{}),r.jsxs(m,{sx:{p:3,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsx(j,{variant:"h6",children:"帳戶"}),r.jsx(Pt,{onClick:i,children:r.jsx(oe,{})})]}),r.jsx(Ve,{onItemClick:i,userName:t.name})]})]})},qe=F(r.jsx("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0s.41-1.08 0-1.49zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"SearchRounded"),tn=tt.forum_search,en="?all=",on=()=>{const[t,e]=d.useState(""),o=a=>e(a.target.value),n=tn+en+t,s=({key:a})=>{if(a==="Enter"){if(!t.trim())return console.error("請輸入搜尋內容");window.location.href=n}};return r.jsx(vo,{variant:"filled",label:"搜尋",placeholder:"使用者 / 貼文",size:"small",sx:{minWidth:150,width:1,maxWidth:800},value:t,onChange:o,onKeyDown:s,slotProps:{input:{endAdornment:r.jsx(Tt,{title:t.trim()?"搜尋":"請輸入搜尋內容",arrow:!0,children:r.jsx(Cr,{position:"end",children:r.jsx(Pt,{edge:"end",href:n,disabled:!t.trim(),children:r.jsx(qe,{})})})})}}})},He=F(r.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-1.29 1.29c-.63.63-.19 1.71.7 1.71h13.17c.89 0 1.34-1.08.71-1.71z"}),"NotificationsRounded"),rn=F(r.jsx("path",{d:"M18 12c0 .55.45 1 1 1h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1m-1.41 4.82c-.33.44-.24 1.05.2 1.37.53.39 1.09.81 1.62 1.21.44.33 1.06.24 1.38-.2 0-.01.01-.01.01-.02.33-.44.24-1.06-.2-1.38-.53-.4-1.09-.82-1.61-1.21-.44-.33-1.06-.23-1.39.21 0 .01-.01.02-.01.02m3.22-12.01c0-.01-.01-.01-.01-.02-.33-.44-.95-.53-1.38-.2-.53.4-1.1.82-1.62 1.22-.44.33-.52.95-.19 1.38 0 .01.01.01.01.02.33.44.94.53 1.38.2.53-.39 1.09-.82 1.62-1.22.43-.32.51-.94.19-1.38M8 9H4c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v3c0 .55.45 1 1 1s1-.45 1-1v-3h1l5 3V6zm7.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"CampaignRounded"),nn=[{id:1,title:"歡迎加入 論壇樣板！",content:"感謝您加入論壇樣板，希望您在這裡能找到有趣的討論。"},{id:2,title:"預計維護公告",content:"論壇樣板將於下週四的 10:00 AM 進行系統維護，預計需 2 小時。"},{id:3,title:"新留言通知",content:"您的貼文 'React 18 的並發模式值得升級嗎？' 有新留言。"}],sn=async()=>(await new Promise(t=>setTimeout(()=>t(),Math.random()*1e3)),nn),an=1e3*60*5,ne=()=>bt({queryKey:["notifications"],queryFn:sn,staleTime:an}),_e=t=>{const{data:e}=ne(),o=e??[];return r.jsx(io,{dense:!0,...t,children:o.map((n,s)=>r.jsxs(d.Fragment,{children:[r.jsxs(Or,{alignItems:"flex-start",children:[r.jsx(Vt,{children:r.jsx(rn,{})}),r.jsx(Wr,{primary:n.title,secondary:n.content})]},n.id),s<o.length-1&&r.jsx(it,{component:"li"})]},n.id))})},ln=()=>{const{data:t,isFetching:e}=ne(),[o,n]=d.useState(null),s=()=>n(null),a=i=>n(o?null:i.currentTarget);return r.jsxs(r.Fragment,{children:[r.jsx(Tt,{title:"通知",arrow:!0,children:r.jsx("span",{children:r.jsx(Pt,{onClick:a,loading:e||!t,children:r.jsx(Oe,{badgeContent:t==null?void 0:t.length,color:"primary",children:r.jsx(He,{fontSize:"small"})})})})}),r.jsx($e,{anchorEl:o,open:!!o,onClose:s,anchorOrigin:{horizontal:"center",vertical:"bottom"},transformOrigin:{horizontal:"center",vertical:"top"},children:r.jsx(_e,{sx:{maxWidth:320}})})]})},cn=I("div")(({theme:t})=>({height:30,width:6,backgroundColor:t.palette.divider,borderRadius:3,position:"absolute",right:8,top:"calc(50% - 15px)",...t.applyStyles("dark",{backgroundColor:t.palette.divider})})),dn=()=>{const{data:t,isFetching:e}=ne(),[o,n]=d.useState(!1),s=()=>n(!1),a=()=>n(!0);return r.jsxs(r.Fragment,{children:[r.jsx(mt,{showLabel:!0,label:"通知",onClick:a,disabled:e||!t,icon:r.jsx(Oe,{badgeContent:(t==null?void 0:t.length)||0,color:"primary",children:r.jsx(He,{})})}),r.jsxs(Ee,{anchor:"left",open:o,onClose:s,onOpen:a,children:[r.jsx(cn,{}),r.jsxs(m,{sx:{p:3,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsx(j,{variant:"h6",children:"通知"}),r.jsx(Pt,{onClick:s,children:r.jsx(oe,{})})]}),r.jsx(_e,{})]})]})},pn=F(r.jsx("path",{d:"M21 6c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1s.45-1 1-1h4c.55 0 1 .45 1 1m-2 4.9c-.32.07-.66.1-1 .1-2.76 0-5-2.24-5-5 0-1.13.37-2.16 1-3H7c-1.1 0-2 .9-2 2v14.48c0 .72.73 1.2 1.39.92L12 18l5.61 2.4c.66.28 1.39-.2 1.39-.92z"}),"BookmarkRemoveRounded"),un=F(r.jsx("path",{d:"M17 20H5c-.55 0-1-.45-1-1V7c0-.55-.45-1-1-1s-1 .45-1 1v13c0 1.1.9 2 2 2h13c.55 0 1-.45 1-1s-.45-1-1-1m3-18H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 10-2.5-1.5L15 12V4h5z"}),"CollectionsBookmarkRounded"),je=F(r.jsx("path",{d:"M15.88 9.29 12 13.17 8.12 9.29a.996.996 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41-.39-.38-1.03-.39-1.42 0"}),"ExpandMoreRounded"),hn=async({postId:t,userId:e})=>{const o=`
      SELECT 1 as liked
      FROM post_interactions
      WHERE postId = $postId
        AND userId = $userId
        AND type = 'like'
      LIMIT 1
    `,n=`
      SELECT COALESCE(likeCount, 0) as likeCount
      FROM post_interaction_counts
      WHERE postId = $postId
    `,s=await rt.exec(o,{$postId:t,$userId:e}),a=await rt.exec(n,{$postId:t}),i=s.length>0;return!a[0]||!Number.isInteger(a[0].likeCount)?null:{liked:i,likeCount:a[0].likeCount}},gn=async({postId:t,userId:e})=>({fav:(await rt.exec(`
      SELECT 1 as fav
      FROM post_interactions
      WHERE postId = $postId
        AND userId = $userId
        AND type = 'favorite'
      LIMIT 1
    `,{$postId:t,$userId:e})).length>0}),xn=async({postId:t,userId:e,type:o,value:n})=>{n?await rt.exec(`
        INSERT OR IGNORE INTO post_interactions (userId, postId, type)
        VALUES ($userId, $postId, $type)
      `,{$userId:e,$postId:t,$type:o}):await rt.exec(`
        DELETE FROM post_interactions
        WHERE userId = $userId
          AND postId = $postId
          AND type = $type
      `,{$userId:e,$postId:t,$type:o})},fn=async({userId:t})=>(await rt.exec(`
    SELECT postId
    FROM post_interactions
    WHERE userId = $userId
      AND type = 'favorite'
    ORDER BY createdAt DESC
  `,{$userId:t})).map(n=>n.postId),se=0,Ke=(t,e,o)=>{const n=Mt(),s=d.useRef(0);return Be({mutationFn:a=>{if(e===void 0)throw new Error("未登錄");return xn({postId:t,userId:e,type:o,value:a})},onMutate:()=>(s.current++,s.current),onSettled:(a,i,l,c)=>{if(c===s.current){const p=o==="like"?["likeStatus",t,e]:["favoriteStatus",t,e];n.invalidateQueries({queryKey:p})}},onError:()=>{console.error(`${o==="like"?"按讚":"收藏"}操作失敗`)}})},ts=t=>{const e=Mt(),{user:o,authenticated:n,loading:s}=yt(),{data:a}=bt({staleTime:se,queryKey:["likeStatus",t,o==null?void 0:o.id],enabled:!s&&n&&(o==null?void 0:o.id)!==void 0,queryFn:async()=>hn({postId:t,userId:o.id})}),i=!n||s||a===void 0||a===null,l=(a==null?void 0:a.liked)??!1,c=(a==null?void 0:a.likeCount)??null,{mutate:p}=Ke(t,o==null?void 0:o.id,"like");return{liked:l,likeCount:c,handleLike:async()=>{i||(await e.cancelQueries({queryKey:["likeStatus",t,o.id]}),e.setQueryData(["likeStatus",t,o.id],h=>{const v=!h.liked;return p(v),{liked:v,likeCount:h.likeCount+(v?1:-1)}}))},disabled:i}},es=t=>{const e=Mt(),{user:o,authenticated:n,loading:s}=yt(),{data:a}=bt({staleTime:se,queryKey:["favoriteStatus",t,o==null?void 0:o.id],enabled:!s&&n&&(o==null?void 0:o.id)!==void 0,queryFn:async()=>gn({postId:t,userId:o.id})}),i=!n||s||a===void 0||a===null,l=(a==null?void 0:a.fav)??!1,{mutate:c}=Ke(t,o==null?void 0:o.id,"favorite");return{isFavorited:l,handleFavorite:async()=>{i||(await e.cancelQueries({queryKey:["favoriteStatus",t,o.id]}),e.setQueryData(["favoriteStatus",t,o.id],g=>{const h=!g.fav;return c(h),{fav:h}}))},disabled:i}},vn=()=>{const{user:t,authenticated:e,loading:o}=yt(),{data:n,isFetching:s}=bt({staleTime:se,queryKey:["favoritePosts",t==null?void 0:t.id],queryFn:()=>fn({userId:t.id}),enabled:!o&&e&&(t==null?void 0:t.id)!==void 0});return{data:n,loading:o||s||n===void 0}},mn=async({userId:t})=>{const o=await rt.exec(`
      SELECT u.id, u.name, u.description
      FROM user_interactions ui
      JOIN users u ON ui.followeeId = u.id
      WHERE ui.followerId = $userId
        AND ui.type = 'follow'
      ORDER BY ui.createdAt DESC
    `,{$userId:t});return!o||o.length===0?null:o.map(n=>({id:n.id,name:n.name,description:n.description}))},bn=async({userId:t})=>{const o=await rt.exec(`
      SELECT u.id, u.name, u.description
      FROM user_interactions ui
      JOIN users u ON ui.followerId = u.id
      WHERE ui.followeeId = $userId
        AND ui.type = 'follow'
      ORDER BY ui.createdAt DESC
    `,{$userId:t});return!o||o.length===0?null:o.map(n=>({id:n.id,name:n.name,description:n.description}))},yn=async({followerId:t,followeeId:e,value:o})=>{if(t===e)throw new Error("使用者不能追蹤自己");o?await rt.exec(`
          INSERT OR IGNORE INTO user_interactions (followerId, followeeId, type)
          VALUES ($followerId, $followeeId, 'follow')
        `,{$followerId:t,$followeeId:e}):await rt.exec(`
          DELETE FROM user_interactions
          WHERE followerId = $followerId
            AND followeeId = $followeeId
            AND type = 'follow'
        `,{$followerId:t,$followeeId:e})},Cn=async({targetId:t,userId:e})=>({follow:(await rt.exec(`
      SELECT 1 as follow
      FROM user_interactions
      WHERE followerId = $userId
        AND followeeId = $targetId
        AND type = 'follow'
      LIMIT 1
    `,{$userId:e,$targetId:t})).length>0}),ae=0,wn=(t,e)=>{const o=Mt(),n=d.useRef(0);return Be({mutationFn:s=>{if(e===void 0)throw new Error("未登錄");return yn({followerId:e,followeeId:t,value:s})},onMutate:()=>(n.current++,n.current),onSettled:(s,a,i,l)=>{if(l===n.current){const c=["userFollow",t,e];o.invalidateQueries({queryKey:c})}},onError:()=>{console.error("追蹤操作失敗")}})},Ge=t=>{const e=Mt(),{user:o,authenticated:n,loading:s}=yt(),{data:a,isFetching:i}=bt({staleTime:ae,queryKey:["userFollow",t,o==null?void 0:o.id],enabled:!s&&n&&(o==null?void 0:o.id)!==void 0,queryFn:async()=>Cn({targetId:t,userId:o.id})}),l=s||i,c=!n||a===void 0||t===(o==null?void 0:o.id),p=(a==null?void 0:a.follow)??!1,g=t===(o==null?void 0:o.id),{mutate:h}=wn(t,o==null?void 0:o.id);return{isFollowed:p,handleFollow:async()=>{c||(await e.cancelQueries({queryKey:["userFollow",t,o.id]}),e.setQueryData(["userFollow",t,o.id],x=>{const f=!x.follow;return h(f),{follow:f}}))},disabled:c,loading:l,isSelf:g}},os=({userId:t})=>bt({queryKey:["userFollowers",t],queryFn:()=>bn({userId:t}),staleTime:ae}),jn=({userId:t})=>bt({queryKey:["userFollowing",t],queryFn:()=>mn({userId:t}),staleTime:ae}),Qe=()=>r.jsxs(m,{sx:{p:1.5,outline:"1px solid",outlineColor:"divider",borderRadius:1},children:[r.jsx(m,{sx:{display:"flex",gap:1.5,mb:2,alignItems:"center"},children:r.jsx(Lt,{variant:"rounded",animation:"wave",children:r.jsx(j,{variant:"body2",children:"by loading..."})})}),r.jsx(Lt,{variant:"rounded",animation:"wave",children:r.jsx(j,{variant:"subtitle1",component:"h6",sx:{textAlign:"start"},children:"正在載入標題..."})})]}),Sn=({postId:t})=>{const{data:e,isFetching:o}=mo({postId:t});if(o||!e)return r.jsx(Qe,{});const n=()=>{window.location.href=`${tt.forum_post}?postId=${e.id}`};return r.jsxs(m,{sx:{p:1.5,outline:"1px solid",outlineColor:"divider",borderRadius:1,cursor:"pointer","&:hover":{bgcolor:"action.hover"}},onClick:n,children:[r.jsx(m,{sx:{display:"flex",gap:1.5,mb:2,alignItems:"center"},children:r.jsxs(j,{variant:"body2",component:"a",href:`${tt.forum_users}?user=${e.userName}`,sx:{color:"text.secondary",textDecoration:"none","&:hover":{textDecoration:"underline",color:"text.primary"}},children:["by ",e.userName]})}),r.jsx(j,{variant:"subtitle1",component:"h6",sx:{textAlign:"start",display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",width:.7},children:e.title})]})},Rn=F(r.jsx("path",{d:"M10 20h4c0 1.1-.9 2-2 2s-2-.9-2-2m4-11c0 2.61 1.67 4.83 4 5.66V17h1c.55 0 1 .45 1 1s-.45 1-1 1H5c-.55 0-1-.45-1-1s.45-1 1-1h1v-7c0-2.79 1.91-5.14 4.5-5.8v-.7c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.7c.71.18 1.36.49 1.95.9C14.54 6.14 14 7.51 14 9m9-1h-2V6c0-.55-.45-1-1-1s-1 .45-1 1v2h-2c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1v-2h2c.55 0 1-.45 1-1s-.45-1-1-1"}),"NotificationAddRounded"),In=F(r.jsx("path",{d:"M14 11c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1s.45-1 1-1h9c.55 0 1 .45 1 1M3 7c0 .55.45 1 1 1h9c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1m7 8c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1h5c.55 0 1-.45 1-1m8.01-2.13.71-.71c.39-.39 1.02-.39 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71-5.16 5.16c-.09.09-.14.21-.14.35v1.41c0 .28.22.5.5.5h1.41c.13 0 .26-.05.35-.15l5.16-5.16z"}),"EditNoteRounded"),At={variant:"contained",color:"primary",size:"large",startIcon:r.jsx(Rn,{})},kt={borderRadius:99,transition:"all 0.2s ease",boxShadow:3,scale:"1.001"},kn=({targetId:t})=>{const{isFollowed:e,handleFollow:o,disabled:n,loading:s,isSelf:a}=Ge(t);return a?r.jsx(ot,{variant:"contained",color:"primary",size:"large",startIcon:r.jsx(In,{}),sx:{...kt,"&:hover":{bgcolor:"primary.main",scale:"1.05",boxShadow:3},"&:active":{scale:"0.95"}},children:"編輯個人資料"}):n?r.jsx(ot,{...At,disabled:!0,sx:kt,children:"追蹤"}):s?r.jsx(ot,{...At,loading:!0,sx:kt,children:"追蹤"}):r.jsx(ot,{...At,onClick:o,sx:{...kt,"&:hover":{bgcolor:"primary.main",scale:"1.05",boxShadow:3},"&:active":{scale:"0.95"}},children:e?"已追蹤":"追蹤"})},rs=()=>{const t=new URLSearchParams(window.location.search),{data:e,isFetching:o}=Pe(t.get("user"));return!o&&e===null?r.jsx(ot,{...At,disabled:!0,sx:kt,children:"追蹤"}):o||!e?r.jsx(ot,{...At,loading:!0,sx:kt,children:"追蹤"}):r.jsx(kn,{targetId:e.id})},$n=({targetId:t})=>{const{isFollowed:e,handleFollow:o,disabled:n,loading:s}=Ge(t);return s?r.jsx(Ut,{variant:"outlined",clickable:!0,disabled:!0,label:r.jsx(ee,{size:"1rem"})}):n?r.jsx(Ut,{variant:"outlined",label:"追蹤",clickable:!0,disabled:!0}):r.jsx(Ut,{variant:"outlined",label:e?"已追蹤":"追蹤",clickable:!0,onClick:o,color:e?"primary":"default"})},Ln=()=>r.jsxs(r.Fragment,{children:[r.jsx(Qr,{}),r.jsxs(m,{children:[r.jsx(Lt,{variant:"rounded",animation:"wave",children:r.jsx(j,{variant:"subtitle1",sx:{textWrap:"nowrap",color:"text.primary",cursor:"pointer",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"作者名稱"})}),r.jsx(Lt,{variant:"text",animation:"wave",children:r.jsx(j,{variant:"body2",component:"p",sx:{color:"text.secondary"},children:"作者描述載入中..."})})]}),r.jsx(Ut,{variant:"outlined",label:"追蹤",clickable:!0,disabled:!0})]}),Pn={display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},Mn=({id:t,name:e,description:o,ellipsis:n})=>r.jsxs(r.Fragment,{children:[r.jsx(Ue,{name:e}),r.jsxs(m,{children:[r.jsx(j,{variant:"subtitle1",sx:{textWrap:"nowrap",color:"text.primary",cursor:"pointer",textDecoration:"none","&:hover":{textDecoration:"underline"}},component:"a",href:`${tt.forum_users}?user=${e}`,children:e}),r.jsx(j,{variant:"body2",component:"p",sx:{color:"text.secondary",...n&&Pn},children:o||"這個使用者很懶，什麼都沒寫"})]}),r.jsx($n,{targetId:t})]}),Se={position:"relative",display:"grid",gridTemplateColumns:"auto 1fr auto auto 1fr auto",alignItems:"center",gap:2,"& > *:nth-of-type(6n - 3)":{"&::after":{content:'""',position:"absolute",display:{xs:"none",md:"block"},inset:0,pointerEvents:"none",borderRight:"1px solid",borderColor:"divider",mr:-1,my:-2.1}}},En=({userId:t})=>{const{data:e,isFetching:o}=jn({userId:t});return o?r.jsx(m,{sx:Se,children:[...Array(4)].map((n,s)=>r.jsx(Ln,{},s))}):!e||e.length===0?r.jsx(m,{children:r.jsx(j,{variant:"subtitle2",color:"text.secondary",align:"center",children:"你還沒追蹤任何使用者"})}):r.jsx(m,{sx:Se,children:e.map(n=>r.jsx(Mn,{...n,ellipsis:!0},n.id))})},Re={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:1,"& > *:nth-of-type(4n+2), & > *:nth-of-type(4n+3)":{bgcolor:"action.hover"}},An=()=>{const{data:t,loading:e}=vn();return e?r.jsx(m,{sx:Re,children:[...Array(4)].map((o,n)=>r.jsx(Qe,{},n))}):!t||t.length===0?r.jsx(m,{sx:{m:3},children:r.jsx(j,{variant:"subtitle2",color:"text.secondary",align:"center",children:"你尚未收藏任何貼文"})}):r.jsx(m,{sx:Re,children:t.map(o=>r.jsxs(m,{sx:{position:"relative"},children:[r.jsx(Sn,{postId:o}),r.jsx(m,{sx:{position:"absolute",inset:"0 0 0 auto",m:1,pointerEvents:"none",color:"text.secondary"},children:r.jsx(ot,{size:"small",sx:{pointerEvents:"auto"},color:"inherit",startIcon:r.jsx(pn,{}),children:"取消收藏"})})]},o))})},Fn=()=>{const{user:t,authenticated:e,loading:o}=yt(),[n,s]=d.useState(!1),[a,i]=d.useState(!0),[l,c]=d.useState(!0),p=()=>s(!0),g=()=>s(!1),h=()=>i(!a),v=()=>c(!l);return r.jsxs(r.Fragment,{children:[r.jsx(Tt,{title:"收藏與追蹤",arrow:!0,children:r.jsx("span",{children:r.jsx(Pt,{onClick:p,disabled:!e,loading:o,children:r.jsx(Ae,{fontSize:"small"})})})}),r.jsxs(cr,{open:n,onClose:g,maxWidth:"md",fullWidth:!0,children:[r.jsxs(m,{sx:{position:"relative",display:"flex",gap:1,alignItems:"center",p:2,bgcolor:"background.paper",borderBottom:"1px solid",borderColor:"divider"},children:[r.jsx(m,{sx:{position:"absolute",inset:0,bgcolor:"action.hover"}}),r.jsx(un,{className:"mode-light",sx:{fontSize:48,mr:1,bgcolor:"primary.main",borderRadius:1,color:"background.default",p:1}}),r.jsx(j,{variant:"h6",component:"h2",sx:{color:"text.primary"},children:"收藏與追蹤"}),r.jsx(m,{sx:{flex:1}}),r.jsx(Tt,{title:"關閉",arrow:!0,children:r.jsx(Pt,{onClick:g,children:r.jsx(oe,{})})})]}),r.jsxs(ft,{children:[r.jsxs(m,{sx:{bgcolor:"action.hover",cursor:"pointer"},onClick:h,children:[r.jsx(it,{}),r.jsxs(m,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",px:3,py:1},children:[r.jsx(j,{variant:"subtitle1",children:"追蹤的使用者"}),r.jsx(je,{sx:{transform:a?"rotate(180deg)":"",transition:"all 0.2s ease"}})]}),r.jsx(it,{})]}),r.jsx(Ht,{in:a,children:r.jsx(m,{sx:{px:3,py:2},children:t?r.jsx(En,{userId:t.id}):r.jsx(m,{children:r.jsx(j,{variant:"subtitle2",color:"error",align:"center",children:"出了點問題，請稍後再試"})})})}),r.jsxs(m,{sx:{bgcolor:"action.hover",cursor:"pointer"},onClick:v,children:[r.jsx(it,{}),r.jsxs(m,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",px:3,py:1},children:[r.jsx(j,{variant:"subtitle1",children:"收藏的貼文"}),r.jsx(je,{sx:{transform:l?"rotate(180deg)":"",transition:"all 0.2s ease"}})]}),r.jsx(it,{})]}),r.jsx(Ht,{in:l,children:r.jsx(m,{sx:{px:3,py:2},children:r.jsx(An,{})})})]})]})]})},Tn=()=>r.jsx(Tt,{title:"返回首頁",arrow:!0,children:r.jsxs(Ft,{href:tt.forum_home,sx:{display:"flex",gap:1.5,alignItems:"center",justifyContent:"center",borderRadius:1,p:1,"&:hover":{bgcolor:"divider"},"&:active":{scale:"0.95"},transition:"all 0.2s ease-in-out"},children:[r.jsx(Me,{fontSize:"large",color:"primary"}),r.jsx(j,{variant:"h4",component:"h1",sx:{fontFamily:'"timemachine-wa"'},children:"論壇樣板"})]})}),On={position:"sticky",top:0,zIndex:"appBar",bgcolor:"secondary.main",borderBottom:"solid 1px #fff2",boxShadow:3,".top &":{boxShadow:"none"},transition:"all 0.2s ease-in-out"},ns=({sx:t,...e})=>r.jsx(ze,{className:"mode-dark",disableGutters:!0,sx:{...On,...t},...e,children:r.jsxs(re,{sx:{display:"flex",alignItems:"center",gap:1,color:"text.primary"},maxWidth:!1,children:[r.jsx(m,{sx:{display:"flex",justifyContent:"flex-start",flex:{xs:void 0,md:1}},children:r.jsx(Tn,{})}),r.jsx(m,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flex:1},children:r.jsx(on,{})}),r.jsxs(m,{sx:{display:"flex",gap:1,alignItems:"center",justifyContent:"flex-end",flex:1},children:[r.jsx(bo,{}),r.jsx(Fn,{}),r.jsx(ln,{}),r.jsx(Xr,{})]})]})}),Dn=F(r.jsx("path",{d:"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1"}),"HomeRounded"),Nn={position:"sticky",top:0,zIndex:"appBar",bgcolor:"secondary.main",borderBottom:"solid 1px #fff2",boxShadow:3,".top &":{boxShadow:"none"},transition:"all 0.2s ease-in-out"},zn={position:"fixed",inset:"auto 0 0 0",zIndex:"appBar",bgcolor:"secondary.main",borderTop:"solid 1px #fff2",boxShadow:3},ss=({sx:t,...e})=>{const[o,n]=d.useState(!1),s=()=>n(!0),a=()=>n(!1),i=d.useRef(null);return d.useEffect(()=>{if(!i.current)return;const l=document.getElementById("scroll-area");if(!l)return;const c=i.current.clientHeight;return l.style.paddingBottom=`${c}px`,()=>{l.style.paddingBottom="0px"}},[i]),r.jsxs(r.Fragment,{children:[r.jsx(ze,{className:"mode-dark",disableGutters:!0,sx:{...Nn,...t},...e,children:r.jsxs(re,{sx:{display:"flex",alignItems:"center",gap:1,color:"text.primary"},maxWidth:"xl",children:[r.jsxs(m,{sx:{display:"flex",gap:1,alignItems:"center",flex:1},children:[r.jsx(Me,{fontSize:"large",color:"primary"}),r.jsx(j,{variant:"h4",component:"h1",sx:{mr:1,fontFamily:'"timemachine-wa"'},children:"論壇樣板"})]}),r.jsx(ot,{href:tt.forum_search,startIcon:r.jsx(qe,{}),variant:"outlined",color:"inherit",size:"large",children:"搜尋"})]})}),r.jsxs(Xo,{className:"mode-dark",value:2,showLabels:!0,sx:zn,ref:i,children:[r.jsx(dn,{}),r.jsx(mt,{label:"主題",icon:r.jsx(So,{}),onClick:s}),r.jsx(mt,{sx:{cursor:"default",minWidth:"auto"},disableRipple:!0,label:r.jsx(fr,{color:"primary",size:"large",href:tt.forum_home,component:"a",sx:{position:"absolute",transform:"translate(-50%, -80%) scale(1.2)",cursor:"pointer",display:"grid",placeItems:"center","&:hover":{bgcolor:"primary.light"}},children:r.jsxs(m,{children:[r.jsx(Dn,{}),r.jsx(j,{variant:"caption",component:"h5",children:"首頁"})]})})}),r.jsx(mt,{label:"收藏",icon:r.jsx(Ae,{})}),r.jsx(Jr,{})]}),r.jsx(yo,{open:o,onClose:a,onOpen:s})]})},Bn=F(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1m1 4h-2v-2h2z"}),"ErrorRounded"),Wn=F([r.jsx("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-4.99-5.58-5.34C6.54 2.58 3.3 5.38 3.03 9h2.02c.24-2.12 1.92-3.8 4.06-3.98C11.65 4.8 14 6.95 14 9.5c0 2.49-2.01 4.5-4.5 4.5-.17 0-.33-.03-.5-.05v2.02l.01.01c1.8.13 3.47-.47 4.72-1.55l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0s.41-1.08 0-1.49z"},"0"),r.jsx("path",{d:"M6.12 11.17 4 13.29l-2.12-2.12c-.2-.2-.51-.2-.71 0s-.2.51 0 .71L3.29 14l-2.12 2.12c-.2.2-.2.51 0 .71s.51.2.71 0L4 14.71l2.12 2.12c.2.2.51.2.71 0s.2-.51 0-.71L4.71 14l2.12-2.12c.2-.2.2-.51 0-.71-.2-.19-.51-.19-.71 0"},"1")],"SearchOffRounded"),Un=F(r.jsx("path",{d:"M8.65 5.82C9.36 4.72 10.6 4 12 4c2.21 0 4 1.79 4 4 0 1.4-.72 2.64-1.82 3.35zM20 17.17c-.02-1.1-.63-2.11-1.61-2.62-.54-.28-1.13-.54-1.77-.76zm.49 3.32L3.51 3.51a.996.996 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l8.18 8.18c-1.82.23-3.41.8-4.7 1.46C4.6 15.08 4 16.11 4 17.22V20h13.17l1.9 1.9c.39.39 1.02.39 1.41 0 .4-.39.4-1.02.01-1.41"}),"PersonOffRounded"),Vn=F(r.jsx("path",{d:"M3 5v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2m13.3 11.29c-.39.39-1.02.39-1.41 0L12 13.41 9.11 16.3c-.39.39-1.02.39-1.41 0a.996.996 0 0 1 0-1.41L10.59 12 7.7 9.11a.996.996 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0L12 10.59l2.89-2.88c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41L13.41 12l2.89 2.88c.38.39.38 1.03 0 1.41"}),"DisabledByDefaultRounded"),Bt={display:"flex",alignItems:"center",gap:1},Wt=t=>({gap:1,flex:1,borderRight:t?0:1,borderColor:"divider",px:3}),as=()=>{const t=xe(s=>s.breakpoints.between("xs","md")),e=xe(s=>s.breakpoints.down("sm")),[o,n]=d.useState(!1);if(o)throw new Error("測試目的的錯誤，請忽略");return r.jsx(m,{component:"footer",sx:{position:"relative",mt:"auto",py:3,bgcolor:"background.paper",borderTop:1,borderColor:"divider","&::before":{bgcolor:"action.hover",content:'""',position:"absolute",inset:0,pointerEvents:"none"}},children:r.jsxs(re,{maxWidth:"lg",sx:{position:"relative"},children:[r.jsxs(ft,{sx:{display:"flex",gap:3,alignItems:"center"},children:[r.jsxs(ft,{sx:{alignItems:"center"},children:[r.jsx(j,{variant:"h6",gutterBottom:!0,children:"相關連結"}),r.jsx(j,{variant:"body2",sx:{color:"text.secondary"},children:"故意引發錯誤或使用錯誤參數，用於展示網站對於真實錯誤的處理能力。"})]}),r.jsx(it,{orientation:"horizontal",flexItem:!0,variant:"middle"}),r.jsxs(m,{sx:{display:"grid",width:1,rowGap:2,gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr",md:"1fr 1fr 1fr 1fr"}},children:[r.jsxs(ft,{sx:Wt(e),children:[r.jsxs(zt,{href:"#",variant:"body2",color:"primary",sx:Bt,underline:"hover",onClick:()=>n(!0),children:[r.jsx(Bn,{fontSize:"small"}),"觸發錯誤"]}),r.jsx(j,{variant:"caption",sx:{color:"text.secondary"},children:"測試任意頁面發生錯誤時的情境"})]}),r.jsxs(ft,{sx:Wt(t),children:[r.jsxs(zt,{href:"/this/is/a/not/exist/route",variant:"body2",color:"primary",sx:Bt,underline:"hover",children:[r.jsx(Wn,{fontSize:"small"}),"404 錯誤"]}),r.jsx(j,{variant:"caption",sx:{color:"text.secondary"},children:"測試要求資源不存在的情境"})]}),r.jsxs(ft,{sx:Wt(e),children:[r.jsxs(zt,{href:`${tt.forum_users}?user=I_think_this_wont_be_an_username`,variant:"body2",color:"primary",sx:Bt,underline:"hover",children:[r.jsx(Un,{fontSize:"small"}),"使用者不存在"]}),r.jsx(j,{variant:"caption",sx:{color:"text.secondary"},children:"測試使用者頁面，但所要求的使用者不存在的情況"})]}),r.jsxs(ft,{sx:Wt(!0),children:[r.jsxs(zt,{href:`${tt.forum_post}?postId=-99`,variant:"body2",color:"primary",sx:Bt,underline:"hover",children:[r.jsx(Vn,{fontSize:"small"}),"貼文不存在"]}),r.jsx(j,{variant:"caption",sx:{color:"text.secondary"},children:"測試單個貼文頁面，但所要求的貼文不存在的情況"})]})]})]}),r.jsxs(j,{variant:"caption",sx:{mt:2,textAlign:"center",display:"block",color:"text.secondary"},children:["© ",new Date().getFullYear()," 論壇樣板 by 1ureka"]})]})})},Ye=new Event("locationchange"),qn=window.history.pushState,Hn=window.history.replaceState;window.history.pushState=function(...t){qn.apply(this,t),window.dispatchEvent(Ye)};window.history.replaceState=function(...t){Hn.apply(this,t),window.dispatchEvent(Ye)};function is(){const[t,e]=d.useState(new URLSearchParams(window.location.search)),o=d.useRef(new Set),n=d.useMemo(()=>({get:a=>(o.current.add(a),t.get(a)),getAll:a=>(o.current.add(a),t.getAll(a)),has:a=>(o.current.add(a),t.has(a))}),[t]),s=d.useCallback(a=>{const i=new URL(window.location.href),l=i.searchParams;Object.entries(a).forEach(([c,p])=>{p===null?l.delete(c):l.set(c,p)}),window.history.pushState({},"",i)},[]);return d.useEffect(()=>{const a=()=>{const i=new URLSearchParams(window.location.search);let l=!1;o.current.forEach(c=>{t.get(c)!==i.get(c)&&(l=!0)}),l&&e(i)};return window.addEventListener("popstate",a),window.addEventListener("locationchange",a),()=>{window.removeEventListener("popstate",a),window.removeEventListener("locationchange",a)}},[t,o]),{searchParams:n,updateSearchParams:s}}export{Ln as A,Ut as C,it as D,je as E,Cr as I,Or as L,Jn as P,qe as S,Ue as U,Mn as a,Zn as b,ns as c,ss as d,as as e,Te as f,Ht as g,cr as h,Xt as i,os as j,jn as k,rs as l,es as m,ts as n,Fe as o,is as u};
