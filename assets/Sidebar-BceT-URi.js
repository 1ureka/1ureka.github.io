import{h as D,j as x,g as He,a as et,r as y,H as C,F as ae,O as ne,N as L,X as tt,Z as nt,Y as ot,W as we,s as K,d as rt,aJ as A,a8 as ge,a2 as ue,D as Q,B as V,ar as Y,T as Z,x as st,v as it}from"./Toast-DD81e0ZS.js";import{D as lt}from"./DatasetRounded-BW5_hd7_.js";import{c as ct}from"./proxy-DTsTHhir.js";import{C as Ce}from"./Collapse-DlXE4Kbp.js";import{u as at,P as he}from"./useThemeProps-sT1gvJgz.js";import{C as ut}from"./Checkbox-6omKZosV.js";import{T as dt}from"./Tooltip-D4y8LWrL.js";import{g as mt}from"./main-DeSNUT90.js";import{t as pt}from"./routes-J5yqRWDh.js";import"./SwitchBase-ChVDiImR.js";import"./react-error-boundary.esm-DV-Hw4di.js";import"./SQLiteClient-DE74qkCZ.js";import"./DataExplorationRounded-Chg1_HDK.js";import"./NotificationsRounded-DQX7XNSM.js";import"./MenuItem-MyiTB2I2.js";import"./DarkModeRounded-BpbMOGed.js";import"./ExpandMoreRounded-kr-67vvG.js";import"./ArrowDropDownRounded-BLpxHT8V.js";import"./useMutation-tmXyHxVB.js";import"./DownloadRounded-Dc6GFJqj.js";import"./dayjs.min-CjKlipGC.js";const ft=D(x.jsx("path",{d:"M19 7H9c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m0 3c0 .55-.45 1-1 1h-8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1m-6 5v-2h2v2zm2 2v2h-2v-2zm-4-2H9v-2h2zm6-2h2v2h-2zm-8 4h2v2H9zm8 2v-2h2v2zM6 17H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2v1h-2V5H5v10h1z"}));function It(e){return at}function gt(e){return He("MuiSimpleTreeView",e)}et("MuiSimpleTreeView",["root"]);const ht=(e,t)=>{const n=y.useRef({}),[o,a]=y.useState(()=>{const u={};return e.forEach(s=>{s.models&&Object.entries(s.models).forEach(([i,m])=>{n.current[i]={isControlled:t[i]!==void 0,getDefaultValue:m.getDefaultValue},u[i]=m.getDefaultValue(t)})}),u});return Object.fromEntries(Object.entries(n.current).map(([u,s])=>{const i=t[u]??o[u];return[u,{value:i,setControlledValue:m=>{s.isControlled||a(r=>C({},r,{[u]:m}))}}]}))};class bt{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,o={}){let a=this.events[t];a||(a={highPriority:new Map,regular:new Map},this.events[t]=a),o.isFirst?a.highPriority.set(n,!0):a.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const o=this.events[t];if(!o)return;const a=Array.from(o.highPriority.keys()),d=Array.from(o.regular.keys());for(let u=a.length-1;u>=0;u-=1){const s=a[u];o.highPriority.has(s)&&s.apply(this,n)}for(let u=0;u<d.length;u+=1){const s=d[u];o.regular.has(s)&&s.apply(this,n)}}once(t,n){const o=this;this.on(t,function a(...d){o.removeListener(t,a),n.apply(o,d)})}}const xt=e=>e.isPropagationStopped!==void 0,Te=()=>{const[e]=y.useState(()=>new bt),t=y.useCallback((...o)=>{const[a,d,u={}]=o;u.defaultMuiPrevented=!1,!(xt(u)&&u.isPropagationStopped())&&e.emit(a,d,u)},[e]),n=y.useCallback((o,a)=>(e.on(o,a),()=>{e.removeListener(o,a)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};Te.params={};const Me=({plugins:e})=>{const t=new Set(e);return{instance:{getAvailablePlugins:()=>t}}};Me.params={};let be=0;const yt=()=>(be+=1,`mui-tree-view-${be}`),oe=({id:e,treeId:t="",itemId:n})=>e??`${t}-${n}`,de=({params:e,state:t,setState:n})=>{y.useEffect(()=>{n(a=>a.id.treeId===e.id&&a.id.treeId!==void 0?a:C({},a,{id:C({},a.id,{treeId:e.id??yt()})}))},[n,e.id]);const o=e.id??t.id.treeId;return{getRootProps:()=>({id:o}),contextValue:{treeId:o}}};de.params={id:!0};de.getInitialState=({id:e})=>({id:{treeId:e??void 0}});const Et=[Te,Me,de],wt=["slots","slotProps","apiRef","experimentalFeatures"],Ct=e=>{let{props:{slots:t,slotProps:n,apiRef:o,experimentalFeatures:a},plugins:d}=e,u=ae(e.props,wt);const s={};d.forEach(p=>{Object.assign(s,p.params)});const i={},m={};Object.keys(u).forEach(p=>{const l=u[p];s[p]?i[p]=l:m[p]=l});const r=a??{},c=d.reduce((p,l)=>l.getDefaultizedParams?l.getDefaultizedParams({params:p,experimentalFeatures:r}):p,i);return{apiRef:o,forwardedProps:m,pluginParams:c,slots:t??{},slotProps:n??{},experimentalFeatures:r}},Tt=({plugins:e,instance:t,publicAPI:n,rootRef:o})=>({runItemPlugins:s=>{let i=null,m=null;const r=[],c={};e.forEach(I=>{if(!I.itemPlugin)return;const h=I.itemPlugin({props:s,rootRef:i,contentRef:m});h!=null&&h.rootRef&&(i=h.rootRef),h!=null&&h.contentRef&&(m=h.contentRef),h!=null&&h.propsEnhancers&&(r.push(h.propsEnhancers),Object.keys(h.propsEnhancers).forEach(g=>{c[g]=!0}))});const p=I=>h=>{const g={};return r.forEach(f=>{const E=f[I];E!=null&&Object.assign(g,E(h))}),g},l=Object.fromEntries(Object.keys(c).map(I=>[I,p(I)]));return{contentRef:m,rootRef:i,propsEnhancers:l}},wrapItem:({itemId:s,children:i})=>{let m=i;for(let r=e.length-1;r>=0;r-=1){const c=e[r];c.wrapItem&&(m=c.wrapItem({itemId:s,children:m,instance:t}))}return m},wrapRoot:({children:s})=>{let i=s;for(let m=e.length-1;m>=0;m-=1){const r=e[m];r.wrapRoot&&(i=r.wrapRoot({children:i,instance:t}))}return i},instance:t,rootRef:o,publicAPI:n});function Mt(e){const t=y.useRef({});return e?(e.current==null&&(e.current={}),e.current):t.current}const Rt=({plugins:e,rootRef:t,props:n})=>{const o=[...Et,...e],{pluginParams:a,forwardedProps:d,apiRef:u,experimentalFeatures:s,slots:i,slotProps:m}=Ct({plugins:o,props:n}),r=ht(o,a),p=y.useRef({}).current,l=Mt(u),I=y.useRef(null),h=ne(I,t),g=Tt({plugins:o,instance:p,publicAPI:l,rootRef:I}),[f,E]=y.useState(()=>{const j={};return o.forEach(k=>{k.getInitialState&&Object.assign(j,k.getInitialState(a))}),j}),T=[],v=j=>{const k=j({instance:p,params:a,slots:i,slotProps:m,experimentalFeatures:s,state:f,setState:E,rootRef:I,models:r,plugins:o});k.getRootProps&&T.push(k.getRootProps),k.publicAPI&&Object.assign(l,k.publicAPI),k.instance&&Object.assign(p,k.instance),k.contextValue&&Object.assign(g,k.contextValue)};return o.forEach(v),{getRootProps:(j={})=>{const k=C({role:"tree"},d,j,{ref:h});return T.forEach(G=>{Object.assign(k,G(j))}),k},rootRef:h,contextValue:g,instance:p}},Re=y.createContext(null);function vt(e){const{value:t,children:n}=e;return x.jsx(Re.Provider,{value:t,children:t.wrapRoot({children:n,instance:t.instance})})}const _=()=>{const e=y.useContext(Re);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},ve=(e,t,n)=>{e.$$publishEvent(t,n)},B="__TREE_VIEW_ROOT_PARENT_ID__",Se=e=>{const t={};return e.forEach((n,o)=>{t[n]=o}),t},X=y.createContext(()=>-1),St=["children"],Pe=({items:e,isItemDisabled:t,getItemLabel:n,getItemId:o})=>{const a={},d={},u={[B]:[]},s=(m,r,c)=>{var h,g;const p=o?o(m):m.id;if(p==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(m)].join(`
`));if(a[p]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${p}"`].join(`
`));const l=n?n(m):m.label;if(l==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(m)].join(`
`));a[p]={id:p,label:l,parentId:c,idAttribute:void 0,expandable:!!((h=m.children)!=null&&h.length),disabled:t?t(m):!1,depth:r},d[p]=m;const I=c??B;u[I]||(u[I]=[]),u[I].push(p),(g=m.children)==null||g.forEach(f=>s(f,r+1,p))};e.forEach(m=>s(m,0,null));const i={};return Object.keys(u).forEach(m=>{i[m]=Se(u[m])}),{itemMetaMap:a,itemMap:d,itemOrderedChildrenIds:u,itemChildrenIndexes:i}},q=({instance:e,params:t,state:n,setState:o,experimentalFeatures:a})=>{const d=y.useCallback(f=>n.items.itemMetaMap[f],[n.items.itemMetaMap]),u=y.useCallback(f=>n.items.itemMap[f],[n.items.itemMap]),s=y.useCallback(()=>{const f=E=>{const T=n.items.itemMap[E],v=ae(T,St),R=n.items.itemOrderedChildrenIds[E];return R&&(v.children=R.map(f)),v};return n.items.itemOrderedChildrenIds[B].map(f)},[n.items.itemMap,n.items.itemOrderedChildrenIds]),i=y.useCallback(f=>{if(f==null)return!1;let E=e.getItemMeta(f);if(!E)return!1;if(E.disabled)return!0;for(;E.parentId!=null;)if(E=e.getItemMeta(E.parentId),E.disabled)return!0;return!1},[e]),m=y.useCallback(f=>{const E=e.getItemMeta(f).parentId??B;return n.items.itemChildrenIndexes[E][f]},[e,n.items.itemChildrenIndexes]),r=y.useCallback(f=>n.items.itemOrderedChildrenIds[f??B]??[],[n.items.itemOrderedChildrenIds]),c=f=>{const E=e.getItemMeta(f);return E==null?null:document.getElementById(oe({treeId:n.id.treeId,itemId:f,id:E.idAttribute}))},p=f=>t.disabledItemsFocusable?!0:!e.isItemDisabled(f),l=y.useRef(!1),I=y.useCallback(()=>{l.current=!0},[]),h=y.useCallback(()=>l.current,[]);return y.useEffect(()=>{e.areItemUpdatesPrevented()||o(f=>{const E=Pe({items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel});return Object.values(f.items.itemMetaMap).forEach(T=>{E.itemMetaMap[T.id]||ve(e,"removeItem",{id:T.id})}),C({},f,{items:E})})},[e,o,t.items,t.isItemDisabled,t.getItemId,t.getItemLabel]),{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":typeof t.itemChildrenIndentation=="number"?`${t.itemChildrenIndentation}px`:t.itemChildrenIndentation}}),publicAPI:{getItem:u,getItemDOMElement:c,getItemTree:s,getItemOrderedChildrenIds:r},instance:{getItemMeta:d,getItem:u,getItemTree:s,getItemsToRender:()=>{const f=E=>{var v;const T=n.items.itemMetaMap[E];return{label:T.label,itemId:T.id,id:T.idAttribute,children:(v=n.items.itemOrderedChildrenIds[E])==null?void 0:v.map(f)}};return n.items.itemOrderedChildrenIds[B].map(f)},getItemIndex:m,getItemDOMElement:c,getItemOrderedChildrenIds:r,isItemDisabled:i,isItemNavigable:p,preventItemUpdates:I,areItemUpdatesPrevented:h},contextValue:{items:{onItemClick:t.onItemClick,disabledItemsFocusable:t.disabledItemsFocusable,indentationAtItemLevel:a.indentationAtItemLevel??!1}}}};q.getInitialState=e=>({items:Pe({items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel})});q.getDefaultizedParams=({params:e})=>C({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1,itemChildrenIndentation:e.itemChildrenIndentation??"12px"});q.wrapRoot=({children:e,instance:t})=>x.jsx(X.Provider,{value:n=>{var o;return((o=t.getItemMeta(n))==null?void 0:o.depth)??0},children:e});q.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const re=({instance:e,params:t,models:n})=>{const o=y.useMemo(()=>{const c=new Map;return n.expandedItems.value.forEach(p=>{c.set(p,!0)}),c},[n.expandedItems.value]),a=(c,p)=>{var l;(l=t.onExpandedItemsChange)==null||l.call(t,c,p),n.expandedItems.setControlledValue(p)},d=y.useCallback(c=>o.has(c),[o]),u=y.useCallback(c=>{var p;return!!((p=e.getItemMeta(c))!=null&&p.expandable)},[e]),s=L((c,p)=>{const l=e.isItemExpanded(p);e.setItemExpansion(c,p,!l)}),i=L((c,p,l)=>{if(e.isItemExpanded(p)===l)return;let h;l?h=[p].concat(n.expandedItems.value):h=n.expandedItems.value.filter(g=>g!==p),t.onItemExpansionToggle&&t.onItemExpansionToggle(c,p,l),a(c,h)}),m=(c,p)=>{const l=e.getItemMeta(p),h=e.getItemOrderedChildrenIds(l.parentId).filter(f=>e.isItemExpandable(f)&&!e.isItemExpanded(f)),g=n.expandedItems.value.concat(h);h.length>0&&(t.onItemExpansionToggle&&h.forEach(f=>{t.onItemExpansionToggle(c,f,!0)}),a(c,g))},r=y.useMemo(()=>t.expansionTrigger?t.expansionTrigger:e.isTreeViewEditable?"iconContainer":"content",[t.expansionTrigger,e.isTreeViewEditable]);return{publicAPI:{setItemExpansion:i},instance:{isItemExpanded:d,isItemExpandable:u,setItemExpansion:i,toggleItemExpansion:s,expandAllSiblings:m},contextValue:{expansion:{expansionTrigger:r}}}};re.models={expandedItems:{getDefaultValue:e=>e.defaultExpandedItems}};const Pt=[];re.getDefaultizedParams=({params:e})=>C({},e,{defaultExpandedItems:e.defaultExpandedItems??Pt});re.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const ke=(e,t)=>{let n=t.length-1;for(;n>=0&&!e.isItemNavigable(t[n]);)n-=1;if(n!==-1)return t[n]},je=(e,t)=>{const n=e.getItemMeta(t),o=e.getItemOrderedChildrenIds(n.parentId),a=e.getItemIndex(t);if(a===0)return n.parentId;let d=a-1;for(;!e.isItemNavigable(o[d])&&d>=0;)d-=1;if(d===-1)return n.parentId==null?null:je(e,n.parentId);let u=o[d],s=ke(e,e.getItemOrderedChildrenIds(u));for(;e.isItemExpanded(u)&&s!=null;)u=s,s=e.getItemOrderedChildrenIds(u).find(e.isItemNavigable);return u},H=(e,t)=>{if(e.isItemExpanded(t)){const o=e.getItemOrderedChildrenIds(t).find(e.isItemNavigable);if(o!=null)return o}let n=e.getItemMeta(t);for(;n!=null;){const o=e.getItemOrderedChildrenIds(n.parentId),a=e.getItemIndex(n.id);if(a<o.length-1){let d=a+1;for(;!e.isItemNavigable(o[d])&&d<o.length-1;)d+=1;if(e.isItemNavigable(o[d]))return o[d]}n=e.getItemMeta(n.parentId)}return null},Ve=e=>{let t=null;for(;t==null||e.isItemExpanded(t);){const n=e.getItemOrderedChildrenIds(t),o=ke(e,n);if(o==null)return t;t=o}return t},W=e=>e.getItemOrderedChildrenIds(null).find(e.isItemNavigable),Oe=(e,t,n)=>{if(t===n)return[t,n];const o=e.getItemMeta(t),a=e.getItemMeta(n);if(o.parentId===a.id||a.parentId===o.id)return a.parentId===o.id?[o.id,a.id]:[a.id,o.id];const d=[o.id],u=[a.id];let s=o.parentId,i=a.parentId,m=u.indexOf(s)!==-1,r=d.indexOf(i)!==-1,c=!0,p=!0;for(;!r&&!m;)c&&(d.push(s),m=u.indexOf(s)!==-1,c=s!==null,!m&&c&&(s=e.getItemMeta(s).parentId)),p&&!m&&(u.push(i),r=d.indexOf(i)!==-1,p=i!==null,!r&&p&&(i=e.getItemMeta(i).parentId));const l=m?s:i,I=e.getItemOrderedChildrenIds(l),h=d[d.indexOf(l)-1],g=u[u.indexOf(l)-1];return I.indexOf(h)<I.indexOf(g)?[t,n]:[n,t]},kt=(e,t,n)=>{const o=i=>{if(e.isItemExpandable(i)&&e.isItemExpanded(i))return e.getItemOrderedChildrenIds(i)[0];let m=e.getItemMeta(i);for(;m!=null;){const r=e.getItemOrderedChildrenIds(m.parentId),c=e.getItemIndex(m.id);if(c<r.length-1)return r[c+1];m=e.getItemMeta(m.parentId)}throw new Error("Invalid range")},[a,d]=Oe(e,t,n),u=[a];let s=a;for(;s!==d;)s=o(s),e.isItemDisabled(s)||u.push(s);return u},jt=e=>{let t=W(e);const n=[];for(;t!=null;)n.push(t),t=H(e,t);return n},ce=(e,t)=>t!==e.closest('*[role="treeitem"]'),ee=e=>Array.isArray(e)?e:e!=null?[e]:[],le=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},se=({instance:e,params:t,models:n})=>{const o=y.useRef(null),a=y.useRef({}),d=y.useMemo(()=>{const h=new Map;return Array.isArray(n.selectedItems.value)?n.selectedItems.value.forEach(g=>{h.set(g,!0)}):n.selectedItems.value!=null&&h.set(n.selectedItems.value,!0),h},[n.selectedItems.value]),u=(h,g)=>{if(t.onItemSelectionToggle)if(t.multiSelect){const f=g.filter(T=>!e.isItemSelected(T)),E=n.selectedItems.value.filter(T=>!g.includes(T));f.forEach(T=>{t.onItemSelectionToggle(h,T,!0)}),E.forEach(T=>{t.onItemSelectionToggle(h,T,!1)})}else g!==n.selectedItems.value&&(n.selectedItems.value!=null&&t.onItemSelectionToggle(h,n.selectedItems.value,!1),g!=null&&t.onItemSelectionToggle(h,g,!0));t.onSelectedItemsChange&&t.onSelectedItemsChange(h,g),n.selectedItems.setControlledValue(g)},s=h=>d.has(h),i=({event:h,itemId:g,keepExistingSelection:f=!1,shouldBeSelected:E})=>{if(t.disableSelection)return;let T;if(f){const v=ee(n.selectedItems.value),R=e.isItemSelected(g);R&&(E===!1||E==null)?T=v.filter(j=>j!==g):!R&&(E===!0||E==null)?T=[g].concat(v):T=v}else E===!1||E==null&&e.isItemSelected(g)?T=t.multiSelect?[]:null:T=t.multiSelect?[g]:g;u(h,T),o.current=g,a.current={}},m=(h,[g,f])=>{if(t.disableSelection||!t.multiSelect)return;let E=ee(n.selectedItems.value).slice();Object.keys(a.current).length>0&&(E=E.filter(j=>!a.current[j]));const T=le(E),v=kt(e,g,f),R=v.filter(j=>!T[j]);E=E.concat(R),u(h,E),a.current=le(v)};return{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),publicAPI:{selectItem:i},instance:{isItemSelected:s,selectItem:i,selectAllNavigableItems:h=>{if(t.disableSelection||!t.multiSelect)return;const g=jt(e);u(h,g),a.current=le(g)},expandSelectionRange:(h,g)=>{if(o.current!=null){const[f,E]=Oe(e,g,o.current);m(h,[f,E])}},selectRangeFromStartToItem:(h,g)=>{m(h,[W(e),g])},selectRangeFromItemToEnd:(h,g)=>{m(h,[g,Ve(e)])},selectItemFromArrowNavigation:(h,g,f)=>{if(t.disableSelection||!t.multiSelect)return;let E=ee(n.selectedItems.value).slice();Object.keys(a.current).length===0?(E.push(f),a.current={[g]:!0,[f]:!0}):(a.current[g]||(a.current={}),a.current[f]?(E=E.filter(T=>T!==g),delete a.current[g]):(E.push(f),a.current[f]=!0)),u(h,E)}},contextValue:{selection:{multiSelect:t.multiSelect,checkboxSelection:t.checkboxSelection,disableSelection:t.disableSelection}}}};se.models={selectedItems:{getDefaultValue:e=>e.defaultSelectedItems}};const Vt=[];se.getDefaultizedParams=({params:e})=>C({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,checkboxSelection:e.checkboxSelection??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?Vt:null)});se.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0};const xe=1e3;class Ot{constructor(t=xe){this.timeouts=new Map,this.cleanupTimeout=xe,this.cleanupTimeout=t}register(t,n,o){this.timeouts||(this.timeouts=new Map);const a=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(o.cleanupToken)},this.cleanupTimeout);this.timeouts.set(o.cleanupToken,a)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class Dt{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,o){this.registry.register(t,n,o)}unregister(t){this.registry.unregister(t)}reset(){}}class At{}function Lt(e){let t=0;return function(o,a,d){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new Dt:new Ot);const[u]=y.useState(new At),s=y.useRef(null),i=y.useRef(void 0);i.current=d;const m=y.useRef(null);if(!s.current&&i.current){const r=(c,p)=>{var l;p.defaultMuiPrevented||(l=i.current)==null||l.call(i,c,p)};s.current=o.$$subscribeEvent(a,r),t+=1,m.current={cleanupToken:t},e.registry.register(u,()=>{var c;(c=s.current)==null||c.call(s),s.current=null,m.current=null},m.current)}else!i.current&&s.current&&(s.current(),s.current=null,m.current&&(e.registry.unregister(m.current),m.current=null));y.useEffect(()=>{if(!s.current&&i.current){const r=(c,p)=>{var l;p.defaultMuiPrevented||(l=i.current)==null||l.call(i,c,p)};s.current=o.$$subscribeEvent(a,r)}return m.current&&e.registry&&(e.registry.unregister(m.current),m.current=null),()=>{var r;(r=s.current)==null||r.call(s),s.current=null}},[o,a])}}const $t={registry:null},Ft=Lt($t),De=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?De(t.shadowRoot):t:null};function Bt(e){return e.replace(/["\\]/g,"\\$&")}const Kt=(e,t)=>{let n=ee(t).find(o=>{if(!e.isItemNavigable(o))return!1;const a=e.getItemMeta(o);return a&&(a.parentId==null||e.isItemExpanded(a.parentId))});return n==null&&(n=W(e)),n},me=({instance:e,params:t,state:n,setState:o,models:a,rootRef:d})=>{const u=Kt(e,a.selectedItems.value),s=L(g=>{const f=typeof g=="function"?g(n.focusedItemId):g;n.focusedItemId!==f&&o(E=>C({},E,{focusedItemId:f}))}),i=y.useCallback(()=>!!d.current&&d.current.contains(De(tt(d.current))),[d]),m=y.useCallback(g=>n.focusedItemId===g&&i(),[n.focusedItemId,i]),r=g=>{const f=e.getItemMeta(g);return f&&(f.parentId==null||e.isItemExpanded(f.parentId))},c=(g,f)=>{const E=e.getItemDOMElement(f);E&&E.focus(),s(f),t.onItemFocus&&t.onItemFocus(g,f)},p=L((g,f)=>{r(f)&&c(g,f)}),l=L(()=>{if(n.focusedItemId==null)return;if(e.getItemMeta(n.focusedItemId)){const f=e.getItemDOMElement(n.focusedItemId);f&&f.blur()}s(null)}),I=g=>g===u;Ft(e,"removeItem",({id:g})=>{n.focusedItemId===g&&c(null,u)});const h=g=>f=>{var E;(E=g.onFocus)==null||E.call(g,f),!f.defaultMuiPrevented&&f.target===f.currentTarget&&c(f,u)};return{getRootProps:g=>({onFocus:h(g)}),publicAPI:{focusItem:p},instance:{isItemFocused:m,canItemBeTabbed:I,focusItem:p,removeFocusedItem:l}}};me.getInitialState=()=>({focusedItemId:null});me.params={onItemFocus:!0};const te=(e,t)=>e.getAvailablePlugins().has(t),_t=({props:e})=>{const{instance:t}=_(),{label:n,itemId:o}=e,[a,d]=y.useState(n),u=t.isItemBeingEdited(o);return y.useEffect(()=>{u||d(n)},[u,n]),{propsEnhancers:{labelInput:({externalEventHandlers:s,interactions:i})=>t.isItemEditable(o)?{value:a??"","data-element":"labelInput",onChange:l=>{var I;(I=s.onChange)==null||I.call(s,l),d(l.target.value)},onKeyDown:l=>{var h;if((h=s.onKeyDown)==null||h.call(s,l),l.defaultMuiPrevented)return;const I=l.target;l.key==="Enter"&&I.value?i.handleSaveItemLabel(l,I.value):l.key==="Escape"&&i.handleCancelItemLabelEditing(l)},onBlur:l=>{var I;(I=s.onBlur)==null||I.call(s,l),!l.defaultMuiPrevented&&l.target.value&&i.handleSaveItemLabel(l,l.target.value)},autoFocus:!0,type:"text"}:{}}}},$=({instance:e,state:t,setState:n,params:o})=>{const a=y.useRef(t.editedItemId),d=c=>a.current===c,u=c=>{n(p=>C({},p,{editedItemId:c})),a.current=c},s=c=>c===t.editedItemId,i=!!o.isItemEditable,m=c=>{if(c==null||!i)return!1;const p=e.getItem(c);return p?typeof o.isItemEditable=="function"?o.isItemEditable(p):!!o.isItemEditable:!1},r=(c,p)=>{if(!p)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","The label of an item cannot be empty.",c].join(`
`));n(l=>{const I=l.items.itemMetaMap[c];return I.label!==p?C({},l,{items:C({},l.items,{itemMetaMap:C({},l.items.itemMetaMap,{[c]:C({},I,{label:p})})})}):l}),o.onItemLabelChange&&o.onItemLabelChange(c,p)};return{instance:{setEditedItemId:u,isItemBeingEdited:s,updateItemLabel:r,isItemEditable:m,isTreeViewEditable:i,isItemBeingEditedRef:d},publicAPI:{updateItemLabel:r}}};$.itemPlugin=_t;$.getDefaultizedParams=({params:e,experimentalFeatures:t})=>{const n=t==null?void 0:t.labelEditing;return C({},e,{isItemEditable:n?e.isItemEditable??!1:!1})};$.getInitialState=()=>({editedItemId:null});$.params={onItemLabelChange:!0,isItemEditable:!0};function zt(e){return!!e&&e.length===1&&!!e.match(/\S/)}const Ae=({instance:e,params:t,state:n})=>{const o=nt(),a=y.useRef({}),d=L(r=>{a.current=r(a.current)});y.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const r={},c=p=>{r[p.id]=p.label.substring(0,1).toLowerCase()};Object.values(n.items.itemMetaMap).forEach(c),a.current=r},[n.items.itemMetaMap,t.getItemId,e]);const u=(r,c)=>{const p=c.toLowerCase(),l=f=>{const E=H(e,f);return E===null?W(e):E};let I=null,h=l(r);const g={};for(;I==null&&!g[h];)a.current[h]===p?I=h:(g[h]=!0,h=l(h));return I},s=r=>!t.disableSelection&&!e.isItemDisabled(r),i=r=>!e.isItemDisabled(r)&&e.isItemExpandable(r);return{instance:{updateFirstCharMap:d,handleItemKeyDown:(r,c)=>{if(r.defaultMuiPrevented||r.altKey||ce(r.target,r.currentTarget))return;const p=r.ctrlKey||r.metaKey,l=r.key;switch(!0){case(l===" "&&s(c)):{r.preventDefault(),t.multiSelect&&r.shiftKey?e.expandSelectionRange(r,c):e.selectItem({event:r,itemId:c,keepExistingSelection:t.multiSelect,shouldBeSelected:t.multiSelect?void 0:!0});break}case l==="Enter":{te(e,$)&&e.isItemEditable(c)&&!e.isItemBeingEdited(c)?e.setEditedItemId(c):i(c)?(e.toggleItemExpansion(r,c),r.preventDefault()):s(c)&&(t.multiSelect?(r.preventDefault(),e.selectItem({event:r,itemId:c,keepExistingSelection:!0})):e.isItemSelected(c)||(e.selectItem({event:r,itemId:c}),r.preventDefault()));break}case l==="ArrowDown":{const I=H(e,c);I&&(r.preventDefault(),e.focusItem(r,I),t.multiSelect&&r.shiftKey&&s(I)&&e.selectItemFromArrowNavigation(r,c,I));break}case l==="ArrowUp":{const I=je(e,c);I&&(r.preventDefault(),e.focusItem(r,I),t.multiSelect&&r.shiftKey&&s(I)&&e.selectItemFromArrowNavigation(r,c,I));break}case(l==="ArrowRight"&&!o||l==="ArrowLeft"&&o):{if(p)return;if(e.isItemExpanded(c)){const I=H(e,c);I&&(e.focusItem(r,I),r.preventDefault())}else i(c)&&(e.toggleItemExpansion(r,c),r.preventDefault());break}case(l==="ArrowLeft"&&!o||l==="ArrowRight"&&o):{if(p)return;if(i(c)&&e.isItemExpanded(c))e.toggleItemExpansion(r,c),r.preventDefault();else{const I=e.getItemMeta(c).parentId;I&&(e.focusItem(r,I),r.preventDefault())}break}case l==="Home":{s(c)&&t.multiSelect&&p&&r.shiftKey?e.selectRangeFromStartToItem(r,c):e.focusItem(r,W(e)),r.preventDefault();break}case l==="End":{s(c)&&t.multiSelect&&p&&r.shiftKey?e.selectRangeFromItemToEnd(r,c):e.focusItem(r,Ve(e)),r.preventDefault();break}case l==="*":{e.expandAllSiblings(r,c),r.preventDefault();break}case(String.fromCharCode(r.keyCode)==="A"&&p&&t.multiSelect&&!t.disableSelection):{e.selectAllNavigableItems(r),r.preventDefault();break}case(!p&&!r.shiftKey&&zt(l)):{const I=u(c,l);I!=null&&(e.focusItem(r,I),r.preventDefault());break}}}}}};Ae.params={};const Le=({slots:e,slotProps:t})=>({contextValue:{icons:{slots:{collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,endIcon:e.endIcon},slotProps:{collapseIcon:t.collapseIcon,expandIcon:t.expandIcon,endIcon:t.endIcon}}}});Le.params={};const $e=y.createContext(null);function Fe(e){const{children:t,itemId:n=null}=e,{instance:o,treeId:a,rootRef:d}=_(),u=y.useRef(new Map);y.useEffect(()=>{if(!d.current)return;let i=null;if(n==null)i=d.current.id;else{const I=o.getItemMeta(n);I!==void 0&&(i=oe({itemId:n,treeId:a,id:I.idAttribute}))}if(i==null)return;const m=o.getItemOrderedChildrenIds(n??null)??[],r=Bt(i),c=d.current.querySelectorAll(`${n==null?"":`*[id="${r}"] `}[role="treeitem"]:not(*[id="${r}"] [role="treeitem"] [role="treeitem"])`),p=Array.from(c).map(I=>u.current.get(I.id));(p.length!==m.length||p.some((I,h)=>I!==m[h]))&&o.setJSXItemsOrderedChildrenIds(n??null,p)});const s=y.useMemo(()=>({registerChild:(i,m)=>u.current.set(i,m),unregisterChild:i=>u.current.delete(i),parentId:n}),[n]);return x.jsx($e.Provider,{value:s,children:t})}const J=({instance:e,setState:t})=>{e.preventItemUpdates();const n=L(d=>(t(u=>{if(u.items.itemMetaMap[d.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${d.id}"`].join(`
`));return C({},u,{items:C({},u.items,{itemMetaMap:C({},u.items.itemMetaMap,{[d.id]:d}),itemMap:C({},u.items.itemMap,{[d.id]:{id:d.id,label:d.label}})})})}),()=>{t(u=>{const s=C({},u.items.itemMetaMap),i=C({},u.items.itemMap);return delete s[d.id],delete i[d.id],C({},u,{items:C({},u.items,{itemMetaMap:s,itemMap:i})})}),ve(e,"removeItem",{id:d.id})})),o=(d,u)=>{const s=d??B;t(i=>C({},i,{items:C({},i.items,{itemOrderedChildrenIds:C({},i.items.itemOrderedChildrenIds,{[s]:u}),itemChildrenIndexes:C({},i.items.itemChildrenIndexes,{[s]:Se(u)})})}))},a=L((d,u)=>(e.updateFirstCharMap(s=>(s[d]=u,s)),()=>{e.updateFirstCharMap(s=>{const i=C({},s);return delete i[d],i})}));return{instance:{insertJSXItem:n,setJSXItemsOrderedChildrenIds:o,mapFirstCharFromJSX:a}}},Be=e=>Array.isArray(e)?e.length>0&&e.some(Be):!!e,Ut=({props:e,rootRef:t,contentRef:n})=>{const{instance:o,treeId:a}=_(),{children:d,disabled:u=!1,label:s,itemId:i,id:m}=e,r=y.useContext($e);if(r==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:c,unregisterChild:p,parentId:l}=r,I=Be(d),h=y.useRef(null),g=ne(h,n);return ot(()=>{const f=oe({itemId:i,treeId:a,id:m});return c(f,i),()=>{p(f)}},[c,p,i,m,a]),y.useEffect(()=>o.insertJSXItem({id:i,idAttribute:m,parentId:l,expandable:I,disabled:u}),[o,l,i,I,u,m]),y.useEffect(()=>{var f;if(s)return o.mapFirstCharFromJSX(i,(((f=h.current)==null?void 0:f.textContent)??"").substring(0,1).toLowerCase())},[o,i,s]),{contentRef:g,rootRef:t}};J.itemPlugin=Ut;J.wrapItem=({children:e,itemId:t})=>{const n=y.useContext(X);return x.jsx(Fe,{itemId:t,children:x.jsx(X.Provider,{value:n+1,children:e})})};J.wrapRoot=({children:e})=>x.jsx(Fe,{children:x.jsx(X.Provider,{value:0,children:e})});J.params={};const Nt=[q,re,se,me,Ae,Le,J],Xt=It(),Wt=e=>{const{classes:t}=e;return rt({root:["root"]},gt,t)},qt=K("ul",{name:"MuiSimpleTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),Jt=[],Gt=y.forwardRef(function(t,n){const o=Xt({props:t,name:"MuiSimpleTreeView"}),a=o,{getRootProps:d,contextValue:u}=Rt({plugins:Nt,rootRef:n,props:C({},o,{items:Jt})}),{slots:s,slotProps:i}=o,m=Wt(o),r=(s==null?void 0:s.root)??qt,c=we({elementType:r,externalSlotProps:i==null?void 0:i.root,className:m.root,getSlotProps:d,ownerState:a});return x.jsx(vt,{value:u,children:x.jsx(r,C({},c))})}),Qt=D(x.jsx("path",{d:"m12 5.83 2.46 2.46c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L12.7 3.7a.996.996 0 0 0-1.41 0L8.12 6.88c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0zm0 12.34-2.46-2.46a.996.996 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l3.17 3.18c.39.39 1.02.39 1.41 0l3.17-3.17c.39-.39.39-1.02 0-1.41a.996.996 0 0 0-1.41 0z"})),Yt=D(x.jsx("path",{d:"M8.12 19.3c.39.39 1.02.39 1.41 0L12 16.83l2.47 2.47c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41l-3.17-3.17a.996.996 0 0 0-1.41 0l-3.17 3.17c-.4.38-.4 1.02-.01 1.41m7.76-14.6a.996.996 0 0 0-1.41 0L12 7.17 9.53 4.7a.996.996 0 0 0-1.41 0c-.39.39-.39 1.03 0 1.42l3.17 3.17c.39.39 1.02.39 1.41 0l3.17-3.17c.4-.39.4-1.03.01-1.42"})),Ke=e=>Array.isArray(e)?e.length>0&&e.some(Ke):!!e,Zt=({itemId:e,children:t})=>{const{instance:n,selection:{multiSelect:o},publicAPI:a}=_(),d={expandable:Ke(t),expanded:n.isItemExpanded(e),focused:n.isItemFocused(e),selected:n.isItemSelected(e),disabled:n.isItemDisabled(e),editing:n!=null&&n.isItemBeingEdited?n==null?void 0:n.isItemBeingEdited(e):!1,editable:n.isItemEditable?n.isItemEditable(e):!1},u=l=>{if(d.disabled)return;d.focused||n.focusItem(l,e);const I=o&&(l.shiftKey||l.ctrlKey||l.metaKey);d.expandable&&!(I&&n.isItemExpanded(e))&&n.toggleItemExpansion(l,e)},s=l=>{if(d.disabled)return;d.focused||n.focusItem(l,e),o&&(l.shiftKey||l.ctrlKey||l.metaKey)?l.shiftKey?n.expandSelectionRange(l,e):n.selectItem({event:l,itemId:e,keepExistingSelection:!0}):n.selectItem({event:l,itemId:e,shouldBeSelected:!0})},i=l=>{const I=l.nativeEvent.shiftKey;o&&I?n.expandSelectionRange(l,e):n.selectItem({event:l,itemId:e,keepExistingSelection:o,shouldBeSelected:l.target.checked})},m=()=>{te(n,$)&&n.isItemEditable(e)&&(n.isItemBeingEdited(e)?n.setEditedItemId(null):n.setEditedItemId(e))};return{interactions:{handleExpansion:u,handleSelection:s,handleCheckboxSelection:i,toggleItemEditing:m,handleSaveItemLabel:(l,I)=>{te(n,$)&&n.isItemBeingEditedRef(e)&&(n.updateItemLabel(e,I),m(),n.focusItem(l,e))},handleCancelItemLabelEditing:l=>{te(n,$)&&n.isItemBeingEditedRef(e)&&(m(),n.focusItem(l,e))}},status:d,publicAPI:a}},Ht=e=>{const{runItemPlugins:t,items:{onItemClick:n,disabledItemsFocusable:o,indentationAtItemLevel:a},selection:{disableSelection:d,checkboxSelection:u},expansion:{expansionTrigger:s},treeId:i,instance:m,publicAPI:r}=_(),c=y.useContext(X),{id:p,itemId:l,label:I,children:h,rootRef:g}=e,{rootRef:f,contentRef:E,propsEnhancers:T}=t(e),{interactions:v,status:R}=Zt({itemId:l,children:h}),j=y.useRef(null),k=y.useRef(null),G=ne(g,f,j),ze=ne(E,k),pe=y.useRef(null),Ue=oe({itemId:l,treeId:i,id:p}),Ne=m.canItemBeTabbed(l)?0:-1,ie={rootRefObject:j,contentRefObject:k,interactions:v},Xe=w=>b=>{var S;if((S=w.onFocus)==null||S.call(w,b),b.defaultMuiPrevented)return;const M=!R.disabled||o;!R.focused&&M&&b.currentTarget===b.target&&m.focusItem(b,l)},We=w=>b=>{var S,O,N,fe,Ie;if((S=w.onBlur)==null||S.call(w,b),b.defaultMuiPrevented)return;const M=m.getItemDOMElement(l);R.editing||b.relatedTarget&&ce(b.relatedTarget,M)&&(b.target&&((N=(O=b.target)==null?void 0:O.dataset)==null?void 0:N.element)==="labelInput"&&ce(b.target,M)||((Ie=(fe=b.relatedTarget)==null?void 0:fe.dataset)==null?void 0:Ie.element)==="labelInput")||m.removeFocusedItem()},qe=w=>b=>{var M,S,O;(M=w.onKeyDown)==null||M.call(w,b),!(b.defaultMuiPrevented||((O=(S=b.target)==null?void 0:S.dataset)==null?void 0:O.element)==="labelInput")&&m.handleItemKeyDown(b,l)},Je=w=>b=>{var M;(M=w.onDoubleClick)==null||M.call(w,b),!b.defaultMuiPrevented&&v.toggleItemEditing()},Ge=w=>b=>{var M,S;(M=w.onClick)==null||M.call(w,b),n==null||n(b,l),!(b.defaultMuiPrevented||(S=pe.current)!=null&&S.contains(b.target))&&(s==="content"&&v.handleExpansion(b),u||v.handleSelection(b))},Qe=w=>b=>{var M;(M=w.onMouseDown)==null||M.call(w,b),!b.defaultMuiPrevented&&(b.shiftKey||b.ctrlKey||b.metaKey||R.disabled)&&b.preventDefault()},Ye=w=>b=>{var M;(M=w.onChange)==null||M.call(w,b),!b.defaultMuiPrevented&&(d||R.disabled||v.handleCheckboxSelection(b))},Ze=w=>b=>{var M;(M=w.onClick)==null||M.call(w,b),!b.defaultMuiPrevented&&s==="iconContainer"&&v.handleExpansion(b)};return{getRootProps:(w={})=>{var N;const b=C({},A(e),A(w));let M;R.selected?M=!0:d||R.disabled?M=void 0:M=!1;const S=C({},b,{ref:G,role:"treeitem",tabIndex:Ne,id:Ue,"aria-expanded":R.expandable?R.expanded:void 0,"aria-selected":M,"aria-disabled":R.disabled||void 0},w,{onFocus:Xe(b),onBlur:We(b),onKeyDown:qe(b)});a&&(S.style={"--TreeView-itemDepth":typeof c=="function"?c(l):c});const O=((N=T.root)==null?void 0:N.call(T,C({},ie,{externalEventHandlers:b})))??{};return C({},S,O)},getContentProps:(w={})=>{var O;const b=A(w),M=C({},b,w,{ref:ze,onClick:Ge(b),onMouseDown:Qe(b),status:R});a&&(M.indentationAtItemLevel=!0);const S=((O=T.content)==null?void 0:O.call(T,C({},ie,{externalEventHandlers:b})))??{};return C({},M,S)},getGroupTransitionProps:(w={})=>{const b=A(w),M=C({},b,{unmountOnExit:!0,component:"ul",role:"group",in:R.expanded,children:h},w);return a&&(M.indentationAtItemLevel=!0),M},getIconContainerProps:(w={})=>{const b=A(w);return C({},b,w,{onClick:Ze(b)})},getCheckboxProps:(w={})=>{const b=A(w);return C({},b,{visible:u,ref:pe,checked:R.selected,disabled:d||R.disabled,tabIndex:-1},w,{onChange:Ye(b)})},getLabelProps:(w={})=>{const b=C({},A(w)),M=C({},b,{children:I},w,{onDoubleClick:Je(b)});return m.isTreeViewEditable&&(M.editable=R.editable),M},getLabelInputProps:(w={})=>{var S;const b=A(w),M=((S=T.labelInput)==null?void 0:S.call(T,{rootRefObject:j,contentRefObject:k,externalEventHandlers:b,interactions:v}))??{};return C({},w,M)},getDragAndDropOverlayProps:(w={})=>{var S;const b=A(w),M=((S=T.dragAndDropOverlay)==null?void 0:S.call(T,C({},ie,{externalEventHandlers:b})))??{};return C({},w,M)},rootRef:G,status:R,publicAPI:r}},en=Ht,tn=D(x.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),nn=D(x.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));function _e(e){const{children:t,itemId:n}=e,{wrapItem:o,instance:a}=_();return o({children:t,itemId:n,instance:a})}_e.propTypes={children:he.node,itemId:he.string.isRequired};function on(e){const{slots:t,slotProps:n,status:o}=e,a=_(),d=C({},a.icons.slots,{expandIcon:a.icons.slots.expandIcon??tn,collapseIcon:a.icons.slots.collapseIcon??nn}),u=a.icons.slotProps;let s;t!=null&&t.icon?s="icon":o.expandable?o.expanded?s="collapseIcon":s="expandIcon":s="endIcon";const i=(t==null?void 0:t[s])??d[s],m=we({elementType:i,externalSlotProps:r=>C({},ge(u[s],r),ge(n==null?void 0:n[s],r)),ownerState:{}});return i?x.jsx(i,C({},m)):null}const rn=["visible"],sn=K("li",{name:"MuiTreeItem2",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),ln=K("div",{name:"MuiTreeItem2",slot:"Content",overridesResolver:(e,t)=>t.content,shouldForwardProp:e=>ue(e)&&e!=="status"&&e!=="indentationAtItemLevel"})(({theme:e})=>({padding:e.spacing(.5,1),borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{indentationAtItemLevel:!0},style:{paddingLeft:`calc(${e.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`}},{props:({status:t})=>t.disabled,style:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"}},{props:({status:t})=>t.focused,style:{backgroundColor:(e.vars||e).palette.action.focus}},{props:({status:t})=>t.selected,style:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Q(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Q(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Q(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},{props:({status:t})=>t.selected&&t.focused,style:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Q(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}]})),cn=K("div",{name:"MuiTreeItem2",slot:"Label",overridesResolver:(e,t)=>t.label,shouldForwardProp:e=>ue(e)&&e!=="editable"})(({theme:e})=>C({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative",overflow:"hidden"},e.typography.body1,{variants:[{props:({editable:t})=>t,style:{paddingLeft:"2px"}}]})),an=K("div",{name:"MuiTreeItem2",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})({width:16,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}});K(Ce,{name:"MuiTreeItem2",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition,shouldForwardProp:e=>ue(e)&&e!=="indentationAtItemLevel"})({margin:0,padding:0,paddingLeft:"var(--TreeView-itemChildrenIndentation)",variants:[{props:{indentationAtItemLevel:!0},style:{paddingLeft:0}}]});K(y.forwardRef((e,t)=>{const{visible:n}=e,o=ae(e,rn);return n?x.jsx(ut,C({},o,{ref:t})):null}),{name:"MuiTreeItem2",slot:"Checkbox",overridesResolver:(e,t)=>t.checkbox})({padding:0});const ye=D(x.jsx("path",{d:"M14.67 6v12c0 .55-.45 1-1 1h-3.33c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h3.33c.55 0 1 .45 1 1m2 13H20c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1h-3.33c-.55 0-1 .45-1 1v12c0 .55.44 1 1 1m-8.34-1V6c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3.33c.56 0 1-.45 1-1"})),un=D(x.jsx("path",{d:"M4 21h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M3 9.21v5.59c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.8c-.31-.31-.85-.09-.85.36M12 17h8c.55 0 1-.45 1-1s-.45-1-1-1h-8c-.55 0-1 .45-1 1s.45 1 1 1M3 4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1m9 5h8c.55 0 1-.45 1-1s-.45-1-1-1h-8c-.55 0-1 .45-1 1s.45 1 1 1m0 4h8c.55 0 1-.45 1-1s-.45-1-1-1h-8c-.55 0-1 .45-1 1s.45 1 1 1"})),Ee=D(x.jsx("path",{d:"M12.65 10C11.7 7.31 8.9 5.5 5.77 6.12c-2.29.46-4.15 2.29-4.63 4.58C.32 14.57 3.26 18 7 18c2.61 0 4.83-1.67 5.65-4H17v2c0 1.1.9 2 2 2s2-.9 2-2v-2c1.1 0 2-.9 2-2s-.9-2-2-2zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"})),dn=D(x.jsx("path",{d:"M11 7h2v2h-2zm1 10c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .55.45 1 1 1m0-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),mn=D(x.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}));function pn(e){return x.jsx(ct.div,{initial:{opacity:0,x:20},animate:{opacity:e.in?1:0,x:e.in?0:20},transition:{duration:.3},children:x.jsx(Ce,{...e})})}const z=4,F={position:"absolute",color:"text.secondary",display:"grid",placeItems:"center"},fn={table:e=>x.jsx(V,{sx:F,children:x.jsx(lt,{sx:{color:"primary.main",filter:`hue-rotate(${(e??0)*20}deg)`}})}),columns:()=>x.jsx(V,{sx:F,children:x.jsx(ye,{})}),column:()=>x.jsx(V,{sx:{...F,opacity:.5},children:x.jsx(ye,{})}),indexes:()=>x.jsx(V,{sx:F,children:x.jsx(un,{})}),index:()=>x.jsx(V,{sx:{...F,opacity:.5},children:x.jsx(dn,{})}),key:()=>x.jsx(V,{sx:{...F,opacity:.5},children:x.jsx(Ee,{})}),pk:()=>x.jsx(V,{sx:{...F,color:"info.main"},children:x.jsx(Ee,{})})},In=y.forwardRef(function(t,n){const{id:o,itemId:a,label:d,disabled:u,children:s,type:i,hueIndex:m,subtitle:r,caption:c,...p}=t,{getRootProps:l,getContentProps:I,getIconContainerProps:h,getLabelProps:g,getGroupTransitionProps:f,status:E}=en({id:o,itemId:a,children:s,label:d,disabled:u,rootRef:n});return x.jsx(_e,{itemId:a,children:x.jsxs(sn,{...l(p),children:[x.jsxs(ln,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:.5,pl:z/2,pr:1.5,borderRadius:0,boxShadow:"-1px 0 0 var(--mui-palette-divider)"},...I(),children:[x.jsxs(V,{sx:{display:"flex",alignItems:"center"},children:[!["column","index","pk","key"].includes(i)&&x.jsx(V,{sx:{display:"grid",placeItems:"center",p:z/2},children:x.jsx(an,{sx:{position:"absolute"},...h(),children:x.jsx(on,{status:E})})}),x.jsx(V,{sx:{display:"grid",placeItems:"center",p:z/2},children:fn[i](m)}),x.jsx(cn,{...g(),sx:{lineHeight:1,pl:z/3,translate:"0 0.07rem",width:"auto",...Y}}),r&&x.jsx(V,{sx:{p:.5,bgcolor:"divider",borderRadius:1,ml:1,translate:"0 0.07rem"},children:x.jsx(Z,{variant:"caption",sx:{color:"text.secondary",textTransform:"uppercase",lineHeight:1,...Y},children:r})})]}),x.jsxs(V,{sx:{display:"flex",alignItems:"center",position:"relative"},children:[c&&x.jsx(Z,{variant:"body2",sx:{mr:1,color:"text.secondary",lineHeight:1,translate:"0 0.07rem",textTransform:"uppercase",fontFamily:'"jf openhuninn"',...Y},children:c}),["table","columns","indexes"].includes(i)&&x.jsx(dt,{title:x.jsx(Z,{variant:"body2",children:"正被其他網站樣板使用中，無法編輯"}),arrow:!0,placement:"right",children:x.jsx(st,{sx:{display:"grid",placeItems:"center",p:z/2,borderRadius:1,"&:hover":{bgcolor:"action.hover"},"&:active":{bgcolor:"action.selected"}},onClick:T=>T.stopPropagation(),children:x.jsx(mn,{sx:{color:"text.secondary",position:"absolute"}})})})]})]}),s&&x.jsx(pn,{...f(),style:{paddingLeft:`calc(var(--mui-spacing) * ${z})`,boxShadow:"-1px 0 0 var(--mui-palette-divider)"}})]})})}),U=y.memo(In),P=",_,";function gn(){const{data:e,isFetching:t}=mt(),[n,o]=y.useState([]),a=(d,u,s)=>{if(s)if(u.endsWith(P+"table")){const i=[u],m=u.split(P)[0],r=["columns","indexes"].map(c=>`${m}${P}${c}`);o([...i,...r])}else o([...n,u]);else o(n.filter(i=>i!==u))};return y.useEffect(()=>{if(t||!e)return;const d=Object.keys(e)[0],u=`${d}${P}table`,s=`${d}${P}columns`,i=`${d}${P}indexes`;o([u,s,i])},[e,t]),t?x.jsx(V,{sx:{display:"grid",placeItems:"center",height:1},children:x.jsx(it,{})}):x.jsx(Gt,{slots:{expandIcon:Qt,collapseIcon:Yt},sx:{ml:-4/2},expandedItems:n,onItemExpansionToggle:a,children:pt(e).map(([d,{columns:u,indexes:s,type:i,hueIndex:m}])=>x.jsxs(U,{type:"table",itemId:`${d}${P}table`,label:d,hueIndex:m,subtitle:i,children:[x.jsx(U,{type:"columns",itemId:`${d}${P}columns`,label:"欄位",children:u.map(({name:r,type:c,pk:p})=>x.jsx(U,{itemId:`${d}${P}column${P}${r}`,type:p===1?"pk":r.toLowerCase().includes("id")?"key":"column",label:r,caption:c},`${d}${P}column${P}${r}`))}),x.jsxs(U,{type:"indexes",itemId:`${d}${P}indexes`,label:"索引",children:[s.length===0&&x.jsx(U,{type:"index",itemId:`${d}${P}no${P}index`,label:"無索引"}),s.map(({name:r,unique:c,columns:p})=>x.jsx(U,{itemId:`${d}${P}index${P}${r}`,type:"index",label:p.toSorted((l,I)=>l.seqno-I.seqno).map(({name:l})=>l).join(" → "),caption:c===1?"UNIQUE":void 0},`${d}${P}index${P}${r}`))]})]},d))})}const Wn=()=>{const[e,t]=y.useState(350),n=y.useRef(null),o=y.useRef(!1),a=()=>{o.current=!0,document.body.style.cursor="ew-resize",document.body.style.userSelect="none"},d=()=>{o.current=!1,document.body.style.cursor="default",document.body.style.userSelect=""},u=s=>{if(!o.current||!n.current)return;const i=s.clientX-n.current.getBoundingClientRect().left;i>=200&&i<=800&&t(i)};return y.useEffect(()=>(window.addEventListener("mousemove",u),window.addEventListener("mouseup",d),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d)}),[]),x.jsxs(V,{ref:n,sx:{width:e,borderRight:1,minHeight:650,borderColor:"divider",position:"relative"},children:[x.jsxs(V,{sx:{display:"flex",alignItems:"center",p:1},children:[x.jsx(ft,{className:"mode-light",sx:{fontSize:"3rem",mr:1.5,bgcolor:"primary.main",borderRadius:1,borderTopLeftRadius:"calc(var(--mui-shape-borderRadius) * 2.5)",color:"background.default",p:1,opacity:.8}}),x.jsx(Z,{variant:"h6",sx:Y,children:"資料表 & 檢視表"})]}),x.jsx(V,{sx:{position:"absolute",right:0,top:0,bottom:0,width:"1rem",translate:"90% 0",cursor:"ew-resize",zIndex:10,"&:hover":{bgcolor:"action.hover"},"&:active":{bgcolor:"action.selected"}},onMouseDown:a}),x.jsx(gn,{})]})};export{Wn as default};
